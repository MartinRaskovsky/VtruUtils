/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/getSections/route";
exports.ids = ["app/api/getSections/route"];
exports.modules = {

/***/ "(rsc)/../node_modules/mysql2/lib sync recursive ^cardinal.*$":
/*!*****************************************************!*\
  !*** ../node_modules/mysql2/lib/ sync ^cardinal.*$ ***!
  \*****************************************************/
/***/ ((module) => {

function webpackEmptyContext(req) {
	var e = new Error("Cannot find module '" + req + "'");
	e.code = 'MODULE_NOT_FOUND';
	throw e;
}
webpackEmptyContext.keys = () => ([]);
webpackEmptyContext.resolve = webpackEmptyContext;
webpackEmptyContext.id = "(rsc)/../node_modules/mysql2/lib sync recursive ^cardinal.*$";
module.exports = webpackEmptyContext;

/***/ }),

/***/ "../../client/components/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "child_process":
/*!********************************!*\
  !*** external "child_process" ***!
  \********************************/
/***/ ((module) => {

"use strict";
module.exports = require("child_process");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "fs/promises":
/*!******************************!*\
  !*** external "fs/promises" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("fs/promises");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("net");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "process":
/*!**************************!*\
  !*** external "process" ***!
  \**************************/
/***/ ((module) => {

"use strict";
module.exports = require("process");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "string_decoder":
/*!*********************************!*\
  !*** external "string_decoder" ***!
  \*********************************/
/***/ ((module) => {

"use strict";
module.exports = require("string_decoder");

/***/ }),

/***/ "timers":
/*!*************************!*\
  !*** external "timers" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("timers");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tls");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2FgetSections%2Froute&page=%2Fapi%2FgetSections%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2FgetSections%2Froute.js&appDir=%2FUsers%2Fmartin%2Fweb3%2Fsrc%2Fnext%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fmartin%2Fweb3%2Fsrc%2Fnext&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2FgetSections%2Froute&page=%2Fapi%2FgetSections%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2FgetSections%2Froute.js&appDir=%2FUsers%2Fmartin%2Fweb3%2Fsrc%2Fnext%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fmartin%2Fweb3%2Fsrc%2Fnext&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_martin_web3_src_next_app_api_getSections_route_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/getSections/route.js */ \"(rsc)/./app/api/getSections/route.js\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/getSections/route\",\n        pathname: \"/api/getSections\",\n        filename: \"route\",\n        bundlePath: \"app/api/getSections/route\"\n    },\n    resolvedPagePath: \"/Users/martin/web3/src/next/app/api/getSections/route.js\",\n    nextConfigOutput,\n    userland: _Users_martin_web3_src_next_app_api_getSections_route_js__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/getSections/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZnZXRTZWN0aW9ucyUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGZ2V0U2VjdGlvbnMlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZnZXRTZWN0aW9ucyUyRnJvdXRlLmpzJmFwcERpcj0lMkZVc2VycyUyRm1hcnRpbiUyRndlYjMlMkZzcmMlMkZuZXh0JTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZVc2VycyUyRm1hcnRpbiUyRndlYjMlMkZzcmMlMkZuZXh0JmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUNRO0FBQ3JGO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmF3YS1uZXh0Lz83ZTA1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi9Vc2Vycy9tYXJ0aW4vd2ViMy9zcmMvbmV4dC9hcHAvYXBpL2dldFNlY3Rpb25zL3JvdXRlLmpzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9nZXRTZWN0aW9ucy9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2dldFNlY3Rpb25zXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9nZXRTZWN0aW9ucy9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIi9Vc2Vycy9tYXJ0aW4vd2ViMy9zcmMvbmV4dC9hcHAvYXBpL2dldFNlY3Rpb25zL3JvdXRlLmpzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9nZXRTZWN0aW9ucy9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2FgetSections%2Froute&page=%2Fapi%2FgetSections%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2FgetSections%2Froute.js&appDir=%2FUsers%2Fmartin%2Fweb3%2Fsrc%2Fnext%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fmartin%2Fweb3%2Fsrc%2Fnext&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/getSections/route.js":
/*!**************************************!*\
  !*** ./app/api/getSections/route.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var _lib_apiRouteUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../lib/apiRouteUtils */ \"(rsc)/./lib/apiRouteUtils.js\");\n/* harmony import */ var _lib_logs_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../lib/logs.js */ \"(rsc)/./lib/logs.js\");\n/* harmony import */ var _lib_loginServer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../lib/loginServer.js */ \"(rsc)/./lib/loginServer.js\");\n/* harmony import */ var _lib_db_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../lib/db.js */ \"(rsc)/./lib/db.js\");\n/* harmony import */ var _lib_logger_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../lib/logger.js */ \"(rsc)/./lib/logger.js\");\n/**\n * Author: Dr. Martín Raskovsky\n * Date: April 2025\n *\n * getSections API Route\n *\n * Executes the `getSections.js` script to retrieve top-level balance sections.\n * Enhances the result with diff comparison and logging.\n */ \n\n\n\n\nconst MODULE = \"getSections\";\nasync function POST(req) {\n    (0,_lib_logger_js__WEBPACK_IMPORTED_MODULE_4__.debugLog)(MODULE, \"POST\");\n    const body = await req.json();\n    const { vault, wallets = [], set_name = \"\" } = body;\n    const email = await (0,_lib_loginServer_js__WEBPACK_IMPORTED_MODULE_2__.getSessionEmail)();\n    const result = await (0,_lib_apiRouteUtils__WEBPACK_IMPORTED_MODULE_0__.handleVaultWalletScript)({\n        body,\n        scriptName: \"getSections.js\",\n        moduleName: \"getSections\",\n        useGrouping: false,\n        parseAsJSON: true\n    }).then(async (res)=>{\n        if (!res || !res.body) return res;\n        const data = await res.json();\n        if (data && typeof data === \"object\") {\n            try {\n                const walletNameMap = await (0,_lib_db_js__WEBPACK_IMPORTED_MODULE_3__.loadWalletNameMap)();\n                data.wallet_names = walletNameMap;\n                const signature = (0,_lib_logs_js__WEBPACK_IMPORTED_MODULE_1__.getSignature)(email, data.address, data.wallets);\n                const previous = await (0,_lib_logs_js__WEBPACK_IMPORTED_MODULE_1__.findLatestLog)(signature);\n                await (0,_lib_logs_js__WEBPACK_IMPORTED_MODULE_1__.writeCurrentLog)(signature, data, previous);\n                if (previous) (0,_lib_logs_js__WEBPACK_IMPORTED_MODULE_1__.computeDifferences)(data, previous);\n            } catch (err) {\n                console.error(\"[getSections] ⚠️ Diff/log error:\", err.message);\n            }\n        }\n        return new Response(JSON.stringify(data), {\n            status: 200,\n            headers: {\n                \"Content-Type\": \"application/json\"\n            }\n        });\n    });\n    return result;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2dldFNlY3Rpb25zL3JvdXRlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBOzs7Ozs7OztDQVFDLEdBRW9FO0FBQ21DO0FBQzFDO0FBQ1A7QUFDTDtBQUVsRCxNQUFNUSxTQUFTO0FBRVIsZUFBZUMsS0FBS0MsR0FBRztJQUM1Qkgsd0RBQVFBLENBQUNDLFFBQVE7SUFDakIsTUFBTUcsT0FBTyxNQUFNRCxJQUFJRSxJQUFJO0lBQzNCLE1BQU0sRUFBRUMsS0FBSyxFQUFFQyxVQUFVLEVBQUUsRUFBRUMsV0FBVyxFQUFFLEVBQUUsR0FBR0o7SUFFL0MsTUFBTUssUUFBUSxNQUFNWCxvRUFBZUE7SUFFbkMsTUFBTVksU0FBUyxNQUFNakIsMkVBQXVCQSxDQUFDO1FBQzNDVztRQUNBTyxZQUFZO1FBQ1pDLFlBQVk7UUFDWkMsYUFBYTtRQUNiQyxhQUFhO0lBQ2YsR0FBR0MsSUFBSSxDQUFDLE9BQU9DO1FBQ2IsSUFBSSxDQUFDQSxPQUFPLENBQUNBLElBQUlaLElBQUksRUFBRSxPQUFPWTtRQUM5QixNQUFNQyxPQUFPLE1BQU1ELElBQUlYLElBQUk7UUFFM0IsSUFBSVksUUFBUSxPQUFPQSxTQUFTLFVBQVU7WUFDcEMsSUFBSTtnQkFDRixNQUFNQyxnQkFBZ0IsTUFBTW5CLDZEQUFpQkE7Z0JBQzdDa0IsS0FBS0UsWUFBWSxHQUFHRDtnQkFFcEIsTUFBTUUsWUFBWTFCLDBEQUFZQSxDQUFDZSxPQUFPUSxLQUFLSSxPQUFPLEVBQUVKLEtBQUtWLE9BQU87Z0JBQ2hFLE1BQU1lLFdBQVcsTUFBTTNCLDJEQUFhQSxDQUFDeUI7Z0JBQ3JDLE1BQU14Qiw2REFBZUEsQ0FBQ3dCLFdBQVdILE1BQU1LO2dCQUN2QyxJQUFJQSxVQUFVekIsZ0VBQWtCQSxDQUFDb0IsTUFBTUs7WUFDekMsRUFBRSxPQUFPQyxLQUFLO2dCQUNaQyxRQUFRQyxLQUFLLENBQUMsb0NBQW9DRixJQUFJRyxPQUFPO1lBQy9EO1FBQ0Y7UUFFQSxPQUFPLElBQUlDLFNBQVNDLEtBQUtDLFNBQVMsQ0FBQ1osT0FBTztZQUN4Q2EsUUFBUTtZQUNSQyxTQUFTO2dCQUFFLGdCQUFnQjtZQUFtQjtRQUNoRDtJQUNGO0lBRUEsT0FBT3JCO0FBQ1QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92YXdhLW5leHQvLi9hcHAvYXBpL2dldFNlY3Rpb25zL3JvdXRlLmpzP2ZlYWQiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBBdXRob3I6IERyLiBNYXJ0w61uIFJhc2tvdnNreVxuICogRGF0ZTogQXByaWwgMjAyNVxuICpcbiAqIGdldFNlY3Rpb25zIEFQSSBSb3V0ZVxuICpcbiAqIEV4ZWN1dGVzIHRoZSBgZ2V0U2VjdGlvbnMuanNgIHNjcmlwdCB0byByZXRyaWV2ZSB0b3AtbGV2ZWwgYmFsYW5jZSBzZWN0aW9ucy5cbiAqIEVuaGFuY2VzIHRoZSByZXN1bHQgd2l0aCBkaWZmIGNvbXBhcmlzb24gYW5kIGxvZ2dpbmcuXG4gKi9cblxuaW1wb3J0IHsgaGFuZGxlVmF1bHRXYWxsZXRTY3JpcHQgfSBmcm9tICcuLi8uLi8uLi9saWIvYXBpUm91dGVVdGlscyc7XG5pbXBvcnQgeyBnZXRTaWduYXR1cmUsIGZpbmRMYXRlc3RMb2csIHdyaXRlQ3VycmVudExvZywgY29tcHV0ZURpZmZlcmVuY2VzIH0gZnJvbSAnLi4vLi4vLi4vbGliL2xvZ3MuanMnO1xuaW1wb3J0IHsgZ2V0U2Vzc2lvbkVtYWlsIH0gZnJvbSAnLi4vLi4vLi4vbGliL2xvZ2luU2VydmVyLmpzJztcbmltcG9ydCB7IGxvYWRXYWxsZXROYW1lTWFwIH0gZnJvbSAnLi4vLi4vLi4vbGliL2RiLmpzJztcbmltcG9ydCB7IGRlYnVnTG9nIH0gZnJvbSAnLi4vLi4vLi4vbGliL2xvZ2dlci5qcyc7XG5cbmNvbnN0IE1PRFVMRSA9ICdnZXRTZWN0aW9ucyc7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcSkge1xuICBkZWJ1Z0xvZyhNT0RVTEUsIFwiUE9TVFwiKTtcbiAgY29uc3QgYm9keSA9IGF3YWl0IHJlcS5qc29uKCk7XG4gIGNvbnN0IHsgdmF1bHQsIHdhbGxldHMgPSBbXSwgc2V0X25hbWUgPSAnJyB9ID0gYm9keTtcblxuICBjb25zdCBlbWFpbCA9IGF3YWl0IGdldFNlc3Npb25FbWFpbCgpO1xuXG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGhhbmRsZVZhdWx0V2FsbGV0U2NyaXB0KHtcbiAgICBib2R5LFxuICAgIHNjcmlwdE5hbWU6ICdnZXRTZWN0aW9ucy5qcycsXG4gICAgbW9kdWxlTmFtZTogJ2dldFNlY3Rpb25zJyxcbiAgICB1c2VHcm91cGluZzogZmFsc2UsXG4gICAgcGFyc2VBc0pTT046IHRydWUsXG4gIH0pLnRoZW4oYXN5bmMgKHJlcykgPT4ge1xuICAgIGlmICghcmVzIHx8ICFyZXMuYm9keSkgcmV0dXJuIHJlcztcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKTtcblxuICAgIGlmIChkYXRhICYmIHR5cGVvZiBkYXRhID09PSAnb2JqZWN0Jykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgd2FsbGV0TmFtZU1hcCA9IGF3YWl0IGxvYWRXYWxsZXROYW1lTWFwKCk7XG4gICAgICAgIGRhdGEud2FsbGV0X25hbWVzID0gd2FsbGV0TmFtZU1hcDtcblxuICAgICAgICBjb25zdCBzaWduYXR1cmUgPSBnZXRTaWduYXR1cmUoZW1haWwsIGRhdGEuYWRkcmVzcywgZGF0YS53YWxsZXRzKTtcbiAgICAgICAgY29uc3QgcHJldmlvdXMgPSBhd2FpdCBmaW5kTGF0ZXN0TG9nKHNpZ25hdHVyZSk7XG4gICAgICAgIGF3YWl0IHdyaXRlQ3VycmVudExvZyhzaWduYXR1cmUsIGRhdGEsIHByZXZpb3VzKTtcbiAgICAgICAgaWYgKHByZXZpb3VzKSBjb21wdXRlRGlmZmVyZW5jZXMoZGF0YSwgcHJldmlvdXMpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tnZXRTZWN0aW9uc10g4pqg77iPIERpZmYvbG9nIGVycm9yOicsIGVyci5tZXNzYWdlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IFJlc3BvbnNlKEpTT04uc3RyaW5naWZ5KGRhdGEpLCB7XG4gICAgICBzdGF0dXM6IDIwMCxcbiAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgIH0pO1xuICB9KTtcblxuICByZXR1cm4gcmVzdWx0O1xufVxuIl0sIm5hbWVzIjpbImhhbmRsZVZhdWx0V2FsbGV0U2NyaXB0IiwiZ2V0U2lnbmF0dXJlIiwiZmluZExhdGVzdExvZyIsIndyaXRlQ3VycmVudExvZyIsImNvbXB1dGVEaWZmZXJlbmNlcyIsImdldFNlc3Npb25FbWFpbCIsImxvYWRXYWxsZXROYW1lTWFwIiwiZGVidWdMb2ciLCJNT0RVTEUiLCJQT1NUIiwicmVxIiwiYm9keSIsImpzb24iLCJ2YXVsdCIsIndhbGxldHMiLCJzZXRfbmFtZSIsImVtYWlsIiwicmVzdWx0Iiwic2NyaXB0TmFtZSIsIm1vZHVsZU5hbWUiLCJ1c2VHcm91cGluZyIsInBhcnNlQXNKU09OIiwidGhlbiIsInJlcyIsImRhdGEiLCJ3YWxsZXROYW1lTWFwIiwid2FsbGV0X25hbWVzIiwic2lnbmF0dXJlIiwiYWRkcmVzcyIsInByZXZpb3VzIiwiZXJyIiwiY29uc29sZSIsImVycm9yIiwibWVzc2FnZSIsIlJlc3BvbnNlIiwiSlNPTiIsInN0cmluZ2lmeSIsInN0YXR1cyIsImhlYWRlcnMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/getSections/route.js\n");

/***/ }),

/***/ "(rsc)/./lib/apiRouteUtils.js":
/*!******************************!*\
  !*** ./lib/apiRouteUtils.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   handleVaultWalletScript: () => (/* binding */ handleVaultWalletScript)\n/* harmony export */ });\n/* harmony import */ var _scriptRunner__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./scriptRunner */ \"(rsc)/./lib/scriptRunner.js\");\n/* harmony import */ var _logger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./logger */ \"(rsc)/./lib/logger.js\");\n/**\n * Author: Dr. Martín Raskovsky\n * Date: April 2025\n *\n * API Route Utilities\n *\n * Shared helper for executing CLI scripts in POST-based API routes.\n */ \n\n/**\n * Standard API handler for vault + wallet + optional grouping.\n * Used by: getSections, getDetails\n */ async function handleVaultWalletScript({ body, scriptName, moduleName, useGrouping = false, parseAsJSON = true }) {\n    try {\n        let { vault, wallets = [], grouping = \"none\" } = body;\n        if (vault === \"undefined\" || vault === null) vault = \"\";\n        if (!vault && wallets.length === 0) {\n            return new Response(JSON.stringify({\n                error: \"Vault or wallet list required\"\n            }), {\n                status: 400,\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                }\n            });\n        }\n        (0,_logger__WEBPACK_IMPORTED_MODULE_1__.debugLog)(moduleName, `POST vault=${vault || \"none\"}, group=${grouping}, wallets=${wallets.length}`);\n        const args = [];\n        if (vault) args.push(\"-v\", vault);\n        if (wallets.length) args.push(...wallets);\n        if (useGrouping && grouping && grouping !== \"none\") args.push(\"-g\", grouping);\n        const result = await (0,_scriptRunner__WEBPACK_IMPORTED_MODULE_0__.runNodeScript)(scriptName, args, parseAsJSON, moduleName);\n        const bodyOut = parseAsJSON ? JSON.stringify(result) : result;\n        return new Response(bodyOut, {\n            status: 200,\n            headers: {\n                \"Content-Type\": parseAsJSON ? \"application/json\" : \"text/html; charset=utf-8\"\n            }\n        });\n    } catch (err) {\n        console.error(`[${moduleName}] ❌ ${err.message}`);\n        const errorBody = parseAsJSON ? JSON.stringify({\n            error: \"Script execution failed\"\n        }) : `<h3 style=\"color:red;\">Script error: ${err.message}</h3>`;\n        return new Response(errorBody, {\n            status: 500,\n            headers: {\n                \"Content-Type\": parseAsJSON ? \"application/json\" : \"text/html; charset=utf-8\"\n            }\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvYXBpUm91dGVVdGlscy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTs7Ozs7OztDQU9DLEdBRThDO0FBQ1g7QUFFcEM7OztDQUdDLEdBQ00sZUFBZUUsd0JBQXdCLEVBQzVDQyxJQUFJLEVBQ0pDLFVBQVUsRUFDVkMsVUFBVSxFQUNWQyxjQUFjLEtBQUssRUFDbkJDLGNBQWMsSUFBSSxFQUNuQjtJQUNDLElBQUk7UUFDRixJQUFJLEVBQUVDLEtBQUssRUFBRUMsVUFBVSxFQUFFLEVBQUVDLFdBQVcsTUFBTSxFQUFFLEdBQUdQO1FBRWpELElBQUlLLFVBQVUsZUFBZUEsVUFBVSxNQUFNQSxRQUFRO1FBQ3JELElBQUksQ0FBQ0EsU0FBU0MsUUFBUUUsTUFBTSxLQUFLLEdBQUc7WUFDbEMsT0FBTyxJQUFJQyxTQUFTQyxLQUFLQyxTQUFTLENBQUM7Z0JBQUVDLE9BQU87WUFBZ0MsSUFBSTtnQkFDOUVDLFFBQVE7Z0JBQ1JDLFNBQVM7b0JBQUUsZ0JBQWdCO2dCQUFtQjtZQUNoRDtRQUNGO1FBRUFoQixpREFBUUEsQ0FBQ0ksWUFBWSxDQUFDLFdBQVcsRUFBRUcsU0FBUyxPQUFPLFFBQVEsRUFBRUUsU0FBUyxVQUFVLEVBQUVELFFBQVFFLE1BQU0sQ0FBQyxDQUFDO1FBRWxHLE1BQU1PLE9BQU8sRUFBRTtRQUNmLElBQUlWLE9BQU9VLEtBQUtDLElBQUksQ0FBQyxNQUFNWDtRQUMzQixJQUFJQyxRQUFRRSxNQUFNLEVBQUVPLEtBQUtDLElBQUksSUFBSVY7UUFDakMsSUFBSUgsZUFBZUksWUFBWUEsYUFBYSxRQUFRUSxLQUFLQyxJQUFJLENBQUMsTUFBTVQ7UUFFcEUsTUFBTVUsU0FBUyxNQUFNcEIsNERBQWFBLENBQUNJLFlBQVljLE1BQU1YLGFBQWFGO1FBRWxFLE1BQU1nQixVQUFVZCxjQUFjTSxLQUFLQyxTQUFTLENBQUNNLFVBQVVBO1FBQ3ZELE9BQU8sSUFBSVIsU0FBU1MsU0FBUztZQUMzQkwsUUFBUTtZQUNSQyxTQUFTO2dCQUNQLGdCQUFnQlYsY0FDWixxQkFDQTtZQUNOO1FBQ0Y7SUFDRixFQUFFLE9BQU9lLEtBQUs7UUFDWkMsUUFBUVIsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFVixXQUFXLElBQUksRUFBRWlCLElBQUlFLE9BQU8sQ0FBQyxDQUFDO1FBQ2hELE1BQU1DLFlBQVlsQixjQUNkTSxLQUFLQyxTQUFTLENBQUM7WUFBRUMsT0FBTztRQUEwQixLQUNsRCxDQUFDLHFDQUFxQyxFQUFFTyxJQUFJRSxPQUFPLENBQUMsS0FBSyxDQUFDO1FBQzlELE9BQU8sSUFBSVosU0FBU2EsV0FBVztZQUM3QlQsUUFBUTtZQUNSQyxTQUFTO2dCQUNQLGdCQUFnQlYsY0FDWixxQkFDQTtZQUNOO1FBQ0Y7SUFDRjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmF3YS1uZXh0Ly4vbGliL2FwaVJvdXRlVXRpbHMuanM/YTZhNCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEF1dGhvcjogRHIuIE1hcnTDrW4gUmFza292c2t5XG4gKiBEYXRlOiBBcHJpbCAyMDI1XG4gKlxuICogQVBJIFJvdXRlIFV0aWxpdGllc1xuICpcbiAqIFNoYXJlZCBoZWxwZXIgZm9yIGV4ZWN1dGluZyBDTEkgc2NyaXB0cyBpbiBQT1NULWJhc2VkIEFQSSByb3V0ZXMuXG4gKi9cblxuaW1wb3J0IHsgcnVuTm9kZVNjcmlwdCB9IGZyb20gJy4vc2NyaXB0UnVubmVyJztcbmltcG9ydCB7IGRlYnVnTG9nIH0gZnJvbSAnLi9sb2dnZXInO1xuXG4vKipcbiAqIFN0YW5kYXJkIEFQSSBoYW5kbGVyIGZvciB2YXVsdCArIHdhbGxldCArIG9wdGlvbmFsIGdyb3VwaW5nLlxuICogVXNlZCBieTogZ2V0U2VjdGlvbnMsIGdldERldGFpbHNcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZVZhdWx0V2FsbGV0U2NyaXB0KHtcbiAgYm9keSxcbiAgc2NyaXB0TmFtZSxcbiAgbW9kdWxlTmFtZSxcbiAgdXNlR3JvdXBpbmcgPSBmYWxzZSxcbiAgcGFyc2VBc0pTT04gPSB0cnVlLFxufSkge1xuICB0cnkge1xuICAgIGxldCB7IHZhdWx0LCB3YWxsZXRzID0gW10sIGdyb3VwaW5nID0gJ25vbmUnIH0gPSBib2R5O1xuXG4gICAgaWYgKHZhdWx0ID09PSAndW5kZWZpbmVkJyB8fCB2YXVsdCA9PT0gbnVsbCkgdmF1bHQgPSAnJztcbiAgICBpZiAoIXZhdWx0ICYmIHdhbGxldHMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKEpTT04uc3RyaW5naWZ5KHsgZXJyb3I6ICdWYXVsdCBvciB3YWxsZXQgbGlzdCByZXF1aXJlZCcgfSksIHtcbiAgICAgICAgc3RhdHVzOiA0MDAsXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgZGVidWdMb2cobW9kdWxlTmFtZSwgYFBPU1QgdmF1bHQ9JHt2YXVsdCB8fCAnbm9uZSd9LCBncm91cD0ke2dyb3VwaW5nfSwgd2FsbGV0cz0ke3dhbGxldHMubGVuZ3RofWApO1xuXG4gICAgY29uc3QgYXJncyA9IFtdO1xuICAgIGlmICh2YXVsdCkgYXJncy5wdXNoKCctdicsIHZhdWx0KTtcbiAgICBpZiAod2FsbGV0cy5sZW5ndGgpIGFyZ3MucHVzaCguLi53YWxsZXRzKTtcbiAgICBpZiAodXNlR3JvdXBpbmcgJiYgZ3JvdXBpbmcgJiYgZ3JvdXBpbmcgIT09ICdub25lJykgYXJncy5wdXNoKCctZycsIGdyb3VwaW5nKTtcblxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJ1bk5vZGVTY3JpcHQoc2NyaXB0TmFtZSwgYXJncywgcGFyc2VBc0pTT04sIG1vZHVsZU5hbWUpO1xuXG4gICAgY29uc3QgYm9keU91dCA9IHBhcnNlQXNKU09OID8gSlNPTi5zdHJpbmdpZnkocmVzdWx0KSA6IHJlc3VsdDtcbiAgICByZXR1cm4gbmV3IFJlc3BvbnNlKGJvZHlPdXQsIHtcbiAgICAgIHN0YXR1czogMjAwLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnQ29udGVudC1UeXBlJzogcGFyc2VBc0pTT05cbiAgICAgICAgICA/ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICAgIDogJ3RleHQvaHRtbDsgY2hhcnNldD11dGYtOCcsXG4gICAgICB9LFxuICAgIH0pO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBjb25zb2xlLmVycm9yKGBbJHttb2R1bGVOYW1lfV0g4p2MICR7ZXJyLm1lc3NhZ2V9YCk7XG4gICAgY29uc3QgZXJyb3JCb2R5ID0gcGFyc2VBc0pTT05cbiAgICAgID8gSlNPTi5zdHJpbmdpZnkoeyBlcnJvcjogJ1NjcmlwdCBleGVjdXRpb24gZmFpbGVkJyB9KVxuICAgICAgOiBgPGgzIHN0eWxlPVwiY29sb3I6cmVkO1wiPlNjcmlwdCBlcnJvcjogJHtlcnIubWVzc2FnZX08L2gzPmA7XG4gICAgcmV0dXJuIG5ldyBSZXNwb25zZShlcnJvckJvZHksIHtcbiAgICAgIHN0YXR1czogNTAwLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnQ29udGVudC1UeXBlJzogcGFyc2VBc0pTT05cbiAgICAgICAgICA/ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICAgIDogJ3RleHQvaHRtbDsgY2hhcnNldD11dGYtOCcsXG4gICAgICB9LFxuICAgIH0pO1xuICB9XG59XG5cbiJdLCJuYW1lcyI6WyJydW5Ob2RlU2NyaXB0IiwiZGVidWdMb2ciLCJoYW5kbGVWYXVsdFdhbGxldFNjcmlwdCIsImJvZHkiLCJzY3JpcHROYW1lIiwibW9kdWxlTmFtZSIsInVzZUdyb3VwaW5nIiwicGFyc2VBc0pTT04iLCJ2YXVsdCIsIndhbGxldHMiLCJncm91cGluZyIsImxlbmd0aCIsIlJlc3BvbnNlIiwiSlNPTiIsInN0cmluZ2lmeSIsImVycm9yIiwic3RhdHVzIiwiaGVhZGVycyIsImFyZ3MiLCJwdXNoIiwicmVzdWx0IiwiYm9keU91dCIsImVyciIsImNvbnNvbGUiLCJtZXNzYWdlIiwiZXJyb3JCb2R5Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/apiRouteUtils.js\n");

/***/ }),

/***/ "(rsc)/./lib/db.js":
/*!*******************!*\
  !*** ./lib/db.js ***!
  \*******************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   clearConfirmationCode: () => (/* binding */ clearConfirmationCode),\n/* harmony export */   deleteSetByName: () => (/* binding */ deleteSetByName),\n/* harmony export */   findEmailByConfirmationCode: () => (/* binding */ findEmailByConfirmationCode),\n/* harmony export */   findEmailBySessionId: () => (/* binding */ findEmailBySessionId),\n/* harmony export */   findOrCreateUser: () => (/* binding */ findOrCreateUser),\n/* harmony export */   findUser: () => (/* binding */ findUser),\n/* harmony export */   getKeepLoggedIn: () => (/* binding */ getKeepLoggedIn),\n/* harmony export */   listSavedSets: () => (/* binding */ listSavedSets),\n/* harmony export */   loadCurrentSet: () => (/* binding */ loadCurrentSet),\n/* harmony export */   loadSavedSet: () => (/* binding */ loadSavedSet),\n/* harmony export */   loadWalletNameMap: () => (/* binding */ loadWalletNameMap),\n/* harmony export */   saveCurrentSet: () => (/* binding */ saveCurrentSet),\n/* harmony export */   saveSetForUser: () => (/* binding */ saveSetForUser),\n/* harmony export */   saveWalletNames: () => (/* binding */ saveWalletNames),\n/* harmony export */   storeConfirmationCode: () => (/* binding */ storeConfirmationCode),\n/* harmony export */   storeSessionId: () => (/* binding */ storeSessionId)\n/* harmony export */ });\n/* harmony import */ var mysql2_promise__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mysql2/promise */ \"(rsc)/../node_modules/mysql2/promise.js\");\n/* harmony import */ var _logger_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./logger.js */ \"(rsc)/./lib/logger.js\");\n/**\n * Author: Dr. Martín Raskovsky\n * Date: April 2025\n *\n * This module connects to the MySQL database using the `mysql2` client.\n * It mirrors the Perl `DBUtils.pm`, using the same schema:\n * - `users(email, confirmation_code, session_id, keep_logged_in)`\n * - `current`, `sets`, and `names` for later use.\n */ \n\nconst MODULE = \"db\";\nconst pool = mysql2_promise__WEBPACK_IMPORTED_MODULE_0__.createPool({\n    host: process.env.DB_HOST,\n    user: process.env.DB_USER,\n    password: process.env.DB_PASS,\n    database: process.env.DB_NAME\n});\n/**\n * Finds a user by email.\n * Returns full row { email, confirmation_code, session_id, keep_logged_in } or null.\n */ async function findUser(email) {\n    (0,_logger_js__WEBPACK_IMPORTED_MODULE_1__.debugLog)(MODULE, `findUser(${email})`);\n    const [rows] = await pool.query(\"SELECT email, confirmation_code, session_id, keep_logged_in FROM users WHERE email = ?\", [\n        email\n    ]);\n    if (rows.length > 0) {\n        (0,_logger_js__WEBPACK_IMPORTED_MODULE_1__.debugLog)(MODULE, `User found: ${email}`);\n        return rows[0];\n    }\n    (0,_logger_js__WEBPACK_IMPORTED_MODULE_1__.debugLog)(MODULE, `User not found: ${email}`);\n    return null;\n}\n/**\n * Finds an existing user or inserts them by email.\n * Used at login time to prepare a new entry if needed.\n */ async function findOrCreateUser(email) {\n    (0,_logger_js__WEBPACK_IMPORTED_MODULE_1__.debugLog)(MODULE, `findOrCreateUser(${email})`);\n    const user = await findUser(email);\n    if (user) {\n        (0,_logger_js__WEBPACK_IMPORTED_MODULE_1__.debugLog)(MODULE, `User exists, no insert needed`);\n        return email;\n    }\n    await pool.query('INSERT INTO users (email, confirmation_code, session_id, keep_logged_in) VALUES (?, \"\", \"\", FALSE)', [\n        email\n    ]);\n    (0,_logger_js__WEBPACK_IMPORTED_MODULE_1__.debugLog)(MODULE, `User inserted: ${email}`);\n    return email;\n}\n/**\n * Stores the confirmation code into the users table.\n */ async function storeConfirmationCode(email, code, keepLoggedIn = false) {\n    (0,_logger_js__WEBPACK_IMPORTED_MODULE_1__.debugLog)(MODULE, `storeConfirmationCode(${email}, code=${code}, keep=${keepLoggedIn})`);\n    await pool.query(\"UPDATE users SET confirmation_code = ?, keep_logged_in = ? WHERE email = ?\", [\n        code,\n        keepLoggedIn ? 1 : 0,\n        email\n    ]);\n}\n/**\n * Looks up the email associated with a confirmation code.\n * (Legacy function, used in earlier GET-based flow.)\n */ async function findEmailByConfirmationCode(code) {\n    (0,_logger_js__WEBPACK_IMPORTED_MODULE_1__.debugLog)(MODULE, `findEmailByConfirmationCode(${code})`);\n    const [rows] = await pool.query(\"SELECT email FROM users WHERE confirmation_code = ?\", [\n        code\n    ]);\n    if (rows.length > 0) {\n        (0,_logger_js__WEBPACK_IMPORTED_MODULE_1__.debugLog)(MODULE, `Code match → email: ${rows[0].email}`);\n        return rows[0].email;\n    }\n    (0,_logger_js__WEBPACK_IMPORTED_MODULE_1__.debugLog)(MODULE, `No match for confirmation code`);\n    return null;\n}\n/**\n * Stores a new session ID for the given user.\n */ async function storeSessionId(email, sessionId) {\n    (0,_logger_js__WEBPACK_IMPORTED_MODULE_1__.debugLog)(MODULE, `storeSessionId(${email}, sessionId=${sessionId.slice(0, 8)}...)`);\n    await pool.query(\"UPDATE users SET session_id = ? WHERE email = ?\", [\n        sessionId,\n        email\n    ]);\n}\n/**\n * Clears the confirmation code after login is successful.\n */ async function clearConfirmationCode(email) {\n    (0,_logger_js__WEBPACK_IMPORTED_MODULE_1__.debugLog)(MODULE, `clearConfirmationCode(${email})`);\n    await pool.query('UPDATE users SET confirmation_code = \"\" WHERE email = ?', [\n        email\n    ]);\n}\n/**\n * Optional: retrieves the `keep_logged_in` flag.\n * Mirrors Perl `getKeepLoggedIn()`.\n */ async function getKeepLoggedIn(email) {\n    (0,_logger_js__WEBPACK_IMPORTED_MODULE_1__.debugLog)(MODULE, `getKeepLoggedIn(${email})`);\n    const [rows] = await pool.query(\"SELECT keep_logged_in FROM users WHERE email = ?\", [\n        email\n    ]);\n    if (rows.length > 0) {\n        (0,_logger_js__WEBPACK_IMPORTED_MODULE_1__.debugLog)(MODULE, `Keep logged in: ${rows[0].keep_logged_in}`);\n        return !!rows[0].keep_logged_in;\n    }\n    (0,_logger_js__WEBPACK_IMPORTED_MODULE_1__.debugLog)(MODULE, `Email not found for keep_logged_in`);\n    return false;\n}\n/**\n * Finds the email matching a session ID.\n */ async function findEmailBySessionId(sessionId) {\n    (0,_logger_js__WEBPACK_IMPORTED_MODULE_1__.debugLog)(MODULE, `findEmailBySessionId(${sessionId.slice(0, 8)}...)`);\n    const [rows] = await pool.query(\"SELECT email FROM users WHERE session_id = ?\", [\n        sessionId\n    ]);\n    if (rows.length > 0) {\n        (0,_logger_js__WEBPACK_IMPORTED_MODULE_1__.debugLog)(MODULE, `Session match → email: ${rows[0].email}`);\n        return rows[0].email;\n    }\n    (0,_logger_js__WEBPACK_IMPORTED_MODULE_1__.debugLog)(MODULE, `No session match`);\n    return null;\n}\n/**\n * Loads the current vault/wallet set for a user.\n * Returns: { set_name, vault_address, wallet_addresses[] }\n */ async function loadCurrentSet(email) {\n    (0,_logger_js__WEBPACK_IMPORTED_MODULE_1__.debugLog)(MODULE, `loadCurrentSet(${email})`);\n    const [rows] = await pool.query(\"SELECT set_name, vault_address, wallet_addresses FROM current WHERE email = ?\", [\n        email\n    ]);\n    if (rows.length === 0) return null;\n    const set = rows[0];\n    set.wallet_addresses = set.wallet_addresses.split(\",\").map((s)=>s.trim());\n    return set;\n}\nasync function saveCurrentSet(email, name, vault, wallets) {\n    (0,_logger_js__WEBPACK_IMPORTED_MODULE_1__.debugLog)(MODULE, `saveCurrentSet(${email}, ${name}, vault=${vault ? \"yes\" : \"no\"}, #wallets=${wallets.length})`);\n    await pool.query(\"REPLACE INTO current (email, set_name, vault_address, wallet_addresses) VALUES (?, ?, ?, ?)\", [\n        email,\n        name,\n        vault,\n        wallets.join(\",\")\n    ]);\n}\n/**\n * Loads the map of wallet addresses to names.\n * Returns: { [walletAddress: string]: name }\n */ async function loadWalletNameMap() {\n    const [rows] = await pool.query(`SELECT wallet_address, name FROM names`);\n    const map = {};\n    for (const row of rows){\n        if (row.wallet_address) {\n            map[row.wallet_address.toLowerCase()] = row.name || \"\";\n        }\n    }\n    return map;\n}\n/**\n * Saves wallet names to the `names` table.\n * Deletes names that are empty, inserts or replaces the rest.\n */ async function saveWalletNames(nameMap) {\n    const MODULE = \"db\";\n    (0,_logger_js__WEBPACK_IMPORTED_MODULE_1__.debugLog)(MODULE, `saveWalletNames(${Object.keys(nameMap).length} entries)`);\n    const conn = await pool.getConnection();\n    try {\n        await conn.beginTransaction();\n        const insertQuery = \"REPLACE INTO names (wallet_address, name) VALUES (?, ?)\";\n        const deleteQuery = \"DELETE FROM names WHERE wallet_address = ?\";\n        const insertStmt = await conn.prepare(insertQuery);\n        const deleteStmt = await conn.prepare(deleteQuery);\n        for (const [wallet, name] of Object.entries(nameMap)){\n            if (!name || name.trim() === \"\") {\n                await deleteStmt.execute([\n                    wallet\n                ]);\n            } else {\n                await insertStmt.execute([\n                    wallet,\n                    name\n                ]);\n            }\n        }\n        await insertStmt.close();\n        await deleteStmt.close();\n        await conn.commit();\n        (0,_logger_js__WEBPACK_IMPORTED_MODULE_1__.debugLog)(MODULE, `✅ saveWalletNames committed`);\n    } catch (err) {\n        await conn.rollback();\n        console.error(`[${MODULE}] DB error in saveWalletNames:`, err);\n        throw err;\n    } finally{\n        conn.release();\n    }\n}\nasync function listSavedSets(email) {\n    (0,_logger_js__WEBPACK_IMPORTED_MODULE_1__.debugLog)(MODULE, `listSavedSets(${email})`);\n    const [rows] = await pool.query(\"SELECT set_name FROM sets WHERE email = ?\", [\n        email\n    ]);\n    (0,_logger_js__WEBPACK_IMPORTED_MODULE_1__.debugLog)(MODULE, `listSavedSets=#rows=${rows.length}`);\n    return rows.map((row)=>row.set_name);\n}\n/**\n * Loads a saved address set by name for the given user.\n * Returns: { set_name, vault_address, wallet_addresses[] } or null\n */ async function loadSavedSet(email, name) {\n    (0,_logger_js__WEBPACK_IMPORTED_MODULE_1__.debugLog)(MODULE, `loadSavedSet(${email}, ${name})`);\n    const [rows] = await pool.query(\"SELECT set_name, vault_address, wallet_addresses FROM sets WHERE email = ? AND set_name = ?\", [\n        email,\n        name\n    ]);\n    if (rows.length === 0) return null;\n    const set = rows[0];\n    set.wallet_addresses = (set.wallet_addresses || \"\").split(\",\").map((s)=>s.trim());\n    return set;\n}\n/**\n * Deletes a saved vault/wallet set by set name and user email.\n * @param {string} email - The user's email.\n * @param {string} setName - The name of the set to delete.\n * @returns {Promise<boolean>} - True if a row was deleted.\n */ async function deleteSetByName(email, setName) {\n    (0,_logger_js__WEBPACK_IMPORTED_MODULE_1__.debugLog)(MODULE, `deleteSetByName(${email}, ${setName})`);\n    const [result] = await pool.query(\"DELETE FROM sets WHERE email = ? AND set_name = ?\", [\n        email,\n        setName\n    ]);\n    (0,_logger_js__WEBPACK_IMPORTED_MODULE_1__.debugLog)(MODULE, `deleteSetByName → affectedRows=${result.affectedRows}`);\n    return result.affectedRows > 0;\n}\n/**\n * Save (insert or update) a set of vault and wallets for a user.\n * @param {string} email - user's email\n * @param {string} name - name of the address set\n * @param {string} vault - vault address (optional)\n * @param {string[]} wallets - list of wallet addresses\n * @returns {Promise<boolean>}\n */ async function saveSetForUser(email, name, vault, wallets) {\n    (0,_logger_js__WEBPACK_IMPORTED_MODULE_1__.debugLog)(MODULE, `saveSetForUser(${email}, ${name}, vault=${vault ? \"yes\" : \"no\"}, #wallets=${wallets.length})`);\n    await pool.query(\"REPLACE INTO sets (email, set_name, vault_address, wallet_addresses) VALUES (?, ?, ?, ?)\", [\n        email,\n        name,\n        vault,\n        wallets.join(\",\")\n    ]);\n    return true;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUMsT0FBTztJQUM5RHpDLG9EQUFRQSxDQUFDQyxRQUFRLENBQUMsZUFBZSxFQUFFYyxNQUFNLEVBQUUsRUFBRXdCLEtBQUssUUFBUSxFQUFFQyxRQUFRLFFBQVEsS0FBSyxXQUFXLEVBQUVDLFFBQVF2QixNQUFNLENBQUMsQ0FBQyxDQUFDO0lBRS9HLE1BQU1oQixLQUFLZSxLQUFLLENBQ2QsNEZBQ0E7UUFBQ0Y7UUFBT3dCO1FBQU1DO1FBQU9DLFFBQVFDLElBQUksQ0FBQztLQUFLO0lBR3pDLE9BQU87QUFDVCIsInNvdXJjZXMiOlsid2VicGFjazovL3Zhd2EtbmV4dC8uL2xpYi9kYi5qcz8zZGM5Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQXV0aG9yOiBEci4gTWFydMOtbiBSYXNrb3Zza3lcbiAqIERhdGU6IEFwcmlsIDIwMjVcbiAqXG4gKiBUaGlzIG1vZHVsZSBjb25uZWN0cyB0byB0aGUgTXlTUUwgZGF0YWJhc2UgdXNpbmcgdGhlIGBteXNxbDJgIGNsaWVudC5cbiAqIEl0IG1pcnJvcnMgdGhlIFBlcmwgYERCVXRpbHMucG1gLCB1c2luZyB0aGUgc2FtZSBzY2hlbWE6XG4gKiAtIGB1c2VycyhlbWFpbCwgY29uZmlybWF0aW9uX2NvZGUsIHNlc3Npb25faWQsIGtlZXBfbG9nZ2VkX2luKWBcbiAqIC0gYGN1cnJlbnRgLCBgc2V0c2AsIGFuZCBgbmFtZXNgIGZvciBsYXRlciB1c2UuXG4gKi9cblxuaW1wb3J0IG15c3FsIGZyb20gJ215c3FsMi9wcm9taXNlJztcbmltcG9ydCB7IGRlYnVnTG9nIH0gZnJvbSAnLi9sb2dnZXIuanMnO1xuXG5jb25zdCBNT0RVTEUgPSBcImRiXCI7XG5cbmNvbnN0IHBvb2wgPSBteXNxbC5jcmVhdGVQb29sKHtcbiAgaG9zdDogcHJvY2Vzcy5lbnYuREJfSE9TVCxcbiAgdXNlcjogcHJvY2Vzcy5lbnYuREJfVVNFUixcbiAgcGFzc3dvcmQ6IHByb2Nlc3MuZW52LkRCX1BBU1MsXG4gIGRhdGFiYXNlOiBwcm9jZXNzLmVudi5EQl9OQU1FLFxufSk7XG5cbi8qKlxuICogRmluZHMgYSB1c2VyIGJ5IGVtYWlsLlxuICogUmV0dXJucyBmdWxsIHJvdyB7IGVtYWlsLCBjb25maXJtYXRpb25fY29kZSwgc2Vzc2lvbl9pZCwga2VlcF9sb2dnZWRfaW4gfSBvciBudWxsLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZmluZFVzZXIoZW1haWwpIHtcbiAgZGVidWdMb2coTU9EVUxFLCBgZmluZFVzZXIoJHtlbWFpbH0pYCk7XG4gIGNvbnN0IFtyb3dzXSA9IGF3YWl0IHBvb2wucXVlcnkoXG4gICAgJ1NFTEVDVCBlbWFpbCwgY29uZmlybWF0aW9uX2NvZGUsIHNlc3Npb25faWQsIGtlZXBfbG9nZ2VkX2luIEZST00gdXNlcnMgV0hFUkUgZW1haWwgPSA/JyxcbiAgICBbZW1haWxdXG4gICk7XG4gIGlmIChyb3dzLmxlbmd0aCA+IDApIHtcbiAgICBkZWJ1Z0xvZyhNT0RVTEUsIGBVc2VyIGZvdW5kOiAke2VtYWlsfWApO1xuICAgIHJldHVybiByb3dzWzBdO1xuICB9XG4gIGRlYnVnTG9nKE1PRFVMRSwgYFVzZXIgbm90IGZvdW5kOiAke2VtYWlsfWApO1xuICByZXR1cm4gbnVsbDtcbn1cblxuLyoqXG4gKiBGaW5kcyBhbiBleGlzdGluZyB1c2VyIG9yIGluc2VydHMgdGhlbSBieSBlbWFpbC5cbiAqIFVzZWQgYXQgbG9naW4gdGltZSB0byBwcmVwYXJlIGEgbmV3IGVudHJ5IGlmIG5lZWRlZC5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGZpbmRPckNyZWF0ZVVzZXIoZW1haWwpIHtcbiAgZGVidWdMb2coTU9EVUxFLCBgZmluZE9yQ3JlYXRlVXNlcigke2VtYWlsfSlgKTtcbiAgY29uc3QgdXNlciA9IGF3YWl0IGZpbmRVc2VyKGVtYWlsKTtcbiAgaWYgKHVzZXIpIHtcbiAgICBkZWJ1Z0xvZyhNT0RVTEUsIGBVc2VyIGV4aXN0cywgbm8gaW5zZXJ0IG5lZWRlZGApO1xuICAgIHJldHVybiBlbWFpbDtcbiAgfVxuXG4gIGF3YWl0IHBvb2wucXVlcnkoXG4gICAgJ0lOU0VSVCBJTlRPIHVzZXJzIChlbWFpbCwgY29uZmlybWF0aW9uX2NvZGUsIHNlc3Npb25faWQsIGtlZXBfbG9nZ2VkX2luKSBWQUxVRVMgKD8sIFwiXCIsIFwiXCIsIEZBTFNFKScsXG4gICAgW2VtYWlsXVxuICApO1xuICBkZWJ1Z0xvZyhNT0RVTEUsIGBVc2VyIGluc2VydGVkOiAke2VtYWlsfWApO1xuICByZXR1cm4gZW1haWw7XG59XG5cbi8qKlxuICogU3RvcmVzIHRoZSBjb25maXJtYXRpb24gY29kZSBpbnRvIHRoZSB1c2VycyB0YWJsZS5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHN0b3JlQ29uZmlybWF0aW9uQ29kZShlbWFpbCwgY29kZSwga2VlcExvZ2dlZEluID0gZmFsc2UpIHtcbiAgZGVidWdMb2coTU9EVUxFLCBgc3RvcmVDb25maXJtYXRpb25Db2RlKCR7ZW1haWx9LCBjb2RlPSR7Y29kZX0sIGtlZXA9JHtrZWVwTG9nZ2VkSW59KWApO1xuICBhd2FpdCBwb29sLnF1ZXJ5KFxuICAgICdVUERBVEUgdXNlcnMgU0VUIGNvbmZpcm1hdGlvbl9jb2RlID0gPywga2VlcF9sb2dnZWRfaW4gPSA/IFdIRVJFIGVtYWlsID0gPycsXG4gICAgW2NvZGUsIGtlZXBMb2dnZWRJbiA/IDEgOiAwLCBlbWFpbF1cbiAgKTtcbn1cblxuLyoqXG4gKiBMb29rcyB1cCB0aGUgZW1haWwgYXNzb2NpYXRlZCB3aXRoIGEgY29uZmlybWF0aW9uIGNvZGUuXG4gKiAoTGVnYWN5IGZ1bmN0aW9uLCB1c2VkIGluIGVhcmxpZXIgR0VULWJhc2VkIGZsb3cuKVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZmluZEVtYWlsQnlDb25maXJtYXRpb25Db2RlKGNvZGUpIHtcbiAgZGVidWdMb2coTU9EVUxFLCBgZmluZEVtYWlsQnlDb25maXJtYXRpb25Db2RlKCR7Y29kZX0pYCk7XG4gIGNvbnN0IFtyb3dzXSA9IGF3YWl0IHBvb2wucXVlcnkoXG4gICAgJ1NFTEVDVCBlbWFpbCBGUk9NIHVzZXJzIFdIRVJFIGNvbmZpcm1hdGlvbl9jb2RlID0gPycsXG4gICAgW2NvZGVdXG4gICk7XG4gIGlmIChyb3dzLmxlbmd0aCA+IDApIHtcbiAgICBkZWJ1Z0xvZyhNT0RVTEUsIGBDb2RlIG1hdGNoIOKGkiBlbWFpbDogJHtyb3dzWzBdLmVtYWlsfWApO1xuICAgIHJldHVybiByb3dzWzBdLmVtYWlsO1xuICB9XG4gIGRlYnVnTG9nKE1PRFVMRSwgYE5vIG1hdGNoIGZvciBjb25maXJtYXRpb24gY29kZWApO1xuICByZXR1cm4gbnVsbDtcbn1cblxuLyoqXG4gKiBTdG9yZXMgYSBuZXcgc2Vzc2lvbiBJRCBmb3IgdGhlIGdpdmVuIHVzZXIuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzdG9yZVNlc3Npb25JZChlbWFpbCwgc2Vzc2lvbklkKSB7XG4gIGRlYnVnTG9nKE1PRFVMRSwgYHN0b3JlU2Vzc2lvbklkKCR7ZW1haWx9LCBzZXNzaW9uSWQ9JHtzZXNzaW9uSWQuc2xpY2UoMCwgOCl9Li4uKWApO1xuICBhd2FpdCBwb29sLnF1ZXJ5KFxuICAgICdVUERBVEUgdXNlcnMgU0VUIHNlc3Npb25faWQgPSA/IFdIRVJFIGVtYWlsID0gPycsXG4gICAgW3Nlc3Npb25JZCwgZW1haWxdXG4gICk7XG59XG5cbi8qKlxuICogQ2xlYXJzIHRoZSBjb25maXJtYXRpb24gY29kZSBhZnRlciBsb2dpbiBpcyBzdWNjZXNzZnVsLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2xlYXJDb25maXJtYXRpb25Db2RlKGVtYWlsKSB7XG4gIGRlYnVnTG9nKE1PRFVMRSwgYGNsZWFyQ29uZmlybWF0aW9uQ29kZSgke2VtYWlsfSlgKTtcbiAgYXdhaXQgcG9vbC5xdWVyeShcbiAgICAnVVBEQVRFIHVzZXJzIFNFVCBjb25maXJtYXRpb25fY29kZSA9IFwiXCIgV0hFUkUgZW1haWwgPSA/JyxcbiAgICBbZW1haWxdXG4gICk7XG59XG5cbi8qKlxuICogT3B0aW9uYWw6IHJldHJpZXZlcyB0aGUgYGtlZXBfbG9nZ2VkX2luYCBmbGFnLlxuICogTWlycm9ycyBQZXJsIGBnZXRLZWVwTG9nZ2VkSW4oKWAuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRLZWVwTG9nZ2VkSW4oZW1haWwpIHtcbiAgZGVidWdMb2coTU9EVUxFLCBgZ2V0S2VlcExvZ2dlZEluKCR7ZW1haWx9KWApO1xuICBjb25zdCBbcm93c10gPSBhd2FpdCBwb29sLnF1ZXJ5KFxuICAgICdTRUxFQ1Qga2VlcF9sb2dnZWRfaW4gRlJPTSB1c2VycyBXSEVSRSBlbWFpbCA9ID8nLFxuICAgIFtlbWFpbF1cbiAgKTtcbiAgaWYgKHJvd3MubGVuZ3RoID4gMCkge1xuICAgIGRlYnVnTG9nKE1PRFVMRSwgYEtlZXAgbG9nZ2VkIGluOiAke3Jvd3NbMF0ua2VlcF9sb2dnZWRfaW59YCk7XG4gICAgcmV0dXJuICEhcm93c1swXS5rZWVwX2xvZ2dlZF9pbjtcbiAgfVxuICBkZWJ1Z0xvZyhNT0RVTEUsIGBFbWFpbCBub3QgZm91bmQgZm9yIGtlZXBfbG9nZ2VkX2luYCk7XG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBGaW5kcyB0aGUgZW1haWwgbWF0Y2hpbmcgYSBzZXNzaW9uIElELlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZmluZEVtYWlsQnlTZXNzaW9uSWQoc2Vzc2lvbklkKSB7XG4gIGRlYnVnTG9nKE1PRFVMRSwgYGZpbmRFbWFpbEJ5U2Vzc2lvbklkKCR7c2Vzc2lvbklkLnNsaWNlKDAsIDgpfS4uLilgKTtcbiAgY29uc3QgW3Jvd3NdID0gYXdhaXQgcG9vbC5xdWVyeShcbiAgICAnU0VMRUNUIGVtYWlsIEZST00gdXNlcnMgV0hFUkUgc2Vzc2lvbl9pZCA9ID8nLFxuICAgIFtzZXNzaW9uSWRdXG4gICk7XG4gIGlmIChyb3dzLmxlbmd0aCA+IDApIHtcbiAgICBkZWJ1Z0xvZyhNT0RVTEUsIGBTZXNzaW9uIG1hdGNoIOKGkiBlbWFpbDogJHtyb3dzWzBdLmVtYWlsfWApO1xuICAgIHJldHVybiByb3dzWzBdLmVtYWlsO1xuICB9XG4gIGRlYnVnTG9nKE1PRFVMRSwgYE5vIHNlc3Npb24gbWF0Y2hgKTtcbiAgcmV0dXJuIG51bGw7XG59XG5cbi8qKlxuICogTG9hZHMgdGhlIGN1cnJlbnQgdmF1bHQvd2FsbGV0IHNldCBmb3IgYSB1c2VyLlxuICogUmV0dXJuczogeyBzZXRfbmFtZSwgdmF1bHRfYWRkcmVzcywgd2FsbGV0X2FkZHJlc3Nlc1tdIH1cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxvYWRDdXJyZW50U2V0KGVtYWlsKSB7XG4gIGRlYnVnTG9nKE1PRFVMRSwgYGxvYWRDdXJyZW50U2V0KCR7ZW1haWx9KWApO1xuXG4gIGNvbnN0IFtyb3dzXSA9IGF3YWl0IHBvb2wucXVlcnkoXG4gICAgJ1NFTEVDVCBzZXRfbmFtZSwgdmF1bHRfYWRkcmVzcywgd2FsbGV0X2FkZHJlc3NlcyBGUk9NIGN1cnJlbnQgV0hFUkUgZW1haWwgPSA/JyxcbiAgICBbZW1haWxdXG4gICk7XG5cbiAgaWYgKHJvd3MubGVuZ3RoID09PSAwKSByZXR1cm4gbnVsbDtcblxuICBjb25zdCBzZXQgPSByb3dzWzBdO1xuICBzZXQud2FsbGV0X2FkZHJlc3NlcyA9IHNldC53YWxsZXRfYWRkcmVzc2VzLnNwbGl0KCcsJykubWFwKHMgPT4gcy50cmltKCkpO1xuICByZXR1cm4gc2V0O1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2F2ZUN1cnJlbnRTZXQoZW1haWwsIG5hbWUsIHZhdWx0LCB3YWxsZXRzKSB7XG4gIGRlYnVnTG9nKE1PRFVMRSwgYHNhdmVDdXJyZW50U2V0KCR7ZW1haWx9LCAke25hbWV9LCB2YXVsdD0ke3ZhdWx0ID8gJ3llcycgOiAnbm8nfSwgI3dhbGxldHM9JHt3YWxsZXRzLmxlbmd0aH0pYCk7XG5cbiAgYXdhaXQgcG9vbC5xdWVyeShcbiAgICAnUkVQTEFDRSBJTlRPIGN1cnJlbnQgKGVtYWlsLCBzZXRfbmFtZSwgdmF1bHRfYWRkcmVzcywgd2FsbGV0X2FkZHJlc3NlcykgVkFMVUVTICg/LCA/LCA/LCA/KScsXG4gICAgW2VtYWlsLCBuYW1lLCB2YXVsdCwgd2FsbGV0cy5qb2luKCcsJyldXG4gICk7XG59XG5cbi8qKlxuICogTG9hZHMgdGhlIG1hcCBvZiB3YWxsZXQgYWRkcmVzc2VzIHRvIG5hbWVzLlxuICogUmV0dXJuczogeyBbd2FsbGV0QWRkcmVzczogc3RyaW5nXTogbmFtZSB9XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsb2FkV2FsbGV0TmFtZU1hcCgpIHtcbiAgY29uc3QgW3Jvd3NdID0gYXdhaXQgcG9vbC5xdWVyeShgU0VMRUNUIHdhbGxldF9hZGRyZXNzLCBuYW1lIEZST00gbmFtZXNgKTtcbiAgY29uc3QgbWFwID0ge307XG4gIGZvciAoY29uc3Qgcm93IG9mIHJvd3MpIHtcbiAgICBpZiAocm93LndhbGxldF9hZGRyZXNzKSB7XG4gICAgICBtYXBbcm93LndhbGxldF9hZGRyZXNzLnRvTG93ZXJDYXNlKCldID0gcm93Lm5hbWUgfHwgJyc7XG4gICAgfVxuICB9XG4gIHJldHVybiBtYXA7XG59XG5cbi8qKlxuICogU2F2ZXMgd2FsbGV0IG5hbWVzIHRvIHRoZSBgbmFtZXNgIHRhYmxlLlxuICogRGVsZXRlcyBuYW1lcyB0aGF0IGFyZSBlbXB0eSwgaW5zZXJ0cyBvciByZXBsYWNlcyB0aGUgcmVzdC5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNhdmVXYWxsZXROYW1lcyhuYW1lTWFwKSB7XG4gIGNvbnN0IE1PRFVMRSA9ICdkYic7XG4gIGRlYnVnTG9nKE1PRFVMRSwgYHNhdmVXYWxsZXROYW1lcygke09iamVjdC5rZXlzKG5hbWVNYXApLmxlbmd0aH0gZW50cmllcylgKTtcblxuICBjb25zdCBjb25uID0gYXdhaXQgcG9vbC5nZXRDb25uZWN0aW9uKCk7XG4gIHRyeSB7XG4gICAgYXdhaXQgY29ubi5iZWdpblRyYW5zYWN0aW9uKCk7XG5cbiAgICBjb25zdCBpbnNlcnRRdWVyeSA9ICdSRVBMQUNFIElOVE8gbmFtZXMgKHdhbGxldF9hZGRyZXNzLCBuYW1lKSBWQUxVRVMgKD8sID8pJztcbiAgICBjb25zdCBkZWxldGVRdWVyeSA9ICdERUxFVEUgRlJPTSBuYW1lcyBXSEVSRSB3YWxsZXRfYWRkcmVzcyA9ID8nO1xuXG4gICAgY29uc3QgaW5zZXJ0U3RtdCA9IGF3YWl0IGNvbm4ucHJlcGFyZShpbnNlcnRRdWVyeSk7XG4gICAgY29uc3QgZGVsZXRlU3RtdCA9IGF3YWl0IGNvbm4ucHJlcGFyZShkZWxldGVRdWVyeSk7XG5cbiAgICBmb3IgKGNvbnN0IFt3YWxsZXQsIG5hbWVdIG9mIE9iamVjdC5lbnRyaWVzKG5hbWVNYXApKSB7XG4gICAgICBpZiAoIW5hbWUgfHwgbmFtZS50cmltKCkgPT09ICcnKSB7XG4gICAgICAgIGF3YWl0IGRlbGV0ZVN0bXQuZXhlY3V0ZShbd2FsbGV0XSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhd2FpdCBpbnNlcnRTdG10LmV4ZWN1dGUoW3dhbGxldCwgbmFtZV0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIGF3YWl0IGluc2VydFN0bXQuY2xvc2UoKTtcbiAgICBhd2FpdCBkZWxldGVTdG10LmNsb3NlKCk7XG4gICAgYXdhaXQgY29ubi5jb21taXQoKTtcbiAgICBkZWJ1Z0xvZyhNT0RVTEUsIGDinIUgc2F2ZVdhbGxldE5hbWVzIGNvbW1pdHRlZGApO1xuXG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGF3YWl0IGNvbm4ucm9sbGJhY2soKTtcbiAgICBjb25zb2xlLmVycm9yKGBbJHtNT0RVTEV9XSBEQiBlcnJvciBpbiBzYXZlV2FsbGV0TmFtZXM6YCwgZXJyKTtcbiAgICB0aHJvdyBlcnI7XG4gIH0gZmluYWxseSB7XG4gICAgY29ubi5yZWxlYXNlKCk7XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxpc3RTYXZlZFNldHMoZW1haWwpIHtcbiAgZGVidWdMb2coTU9EVUxFLCBgbGlzdFNhdmVkU2V0cygke2VtYWlsfSlgKTtcbiAgY29uc3QgW3Jvd3NdID0gYXdhaXQgcG9vbC5xdWVyeShcbiAgICAnU0VMRUNUIHNldF9uYW1lIEZST00gc2V0cyBXSEVSRSBlbWFpbCA9ID8nLFxuICAgIFtlbWFpbF1cbiAgKTtcbiAgZGVidWdMb2coTU9EVUxFLCBgbGlzdFNhdmVkU2V0cz0jcm93cz0ke3Jvd3MubGVuZ3RofWApO1xuICByZXR1cm4gcm93cy5tYXAocm93ID0+IHJvdy5zZXRfbmFtZSk7XG59XG5cbi8qKlxuICogTG9hZHMgYSBzYXZlZCBhZGRyZXNzIHNldCBieSBuYW1lIGZvciB0aGUgZ2l2ZW4gdXNlci5cbiAqIFJldHVybnM6IHsgc2V0X25hbWUsIHZhdWx0X2FkZHJlc3MsIHdhbGxldF9hZGRyZXNzZXNbXSB9IG9yIG51bGxcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxvYWRTYXZlZFNldChlbWFpbCwgbmFtZSkge1xuICBkZWJ1Z0xvZyhNT0RVTEUsIGBsb2FkU2F2ZWRTZXQoJHtlbWFpbH0sICR7bmFtZX0pYCk7XG4gIGNvbnN0IFtyb3dzXSA9IGF3YWl0IHBvb2wucXVlcnkoXG4gICAgJ1NFTEVDVCBzZXRfbmFtZSwgdmF1bHRfYWRkcmVzcywgd2FsbGV0X2FkZHJlc3NlcyBGUk9NIHNldHMgV0hFUkUgZW1haWwgPSA/IEFORCBzZXRfbmFtZSA9ID8nLFxuICAgIFtlbWFpbCwgbmFtZV1cbiAgKTtcbiAgaWYgKHJvd3MubGVuZ3RoID09PSAwKSByZXR1cm4gbnVsbDtcblxuICBjb25zdCBzZXQgPSByb3dzWzBdO1xuICBzZXQud2FsbGV0X2FkZHJlc3NlcyA9IChzZXQud2FsbGV0X2FkZHJlc3NlcyB8fCAnJykuc3BsaXQoJywnKS5tYXAocyA9PiBzLnRyaW0oKSk7XG4gIHJldHVybiBzZXQ7XG59XG5cbi8qKlxuICogRGVsZXRlcyBhIHNhdmVkIHZhdWx0L3dhbGxldCBzZXQgYnkgc2V0IG5hbWUgYW5kIHVzZXIgZW1haWwuXG4gKiBAcGFyYW0ge3N0cmluZ30gZW1haWwgLSBUaGUgdXNlcidzIGVtYWlsLlxuICogQHBhcmFtIHtzdHJpbmd9IHNldE5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgc2V0IHRvIGRlbGV0ZS5cbiAqIEByZXR1cm5zIHtQcm9taXNlPGJvb2xlYW4+fSAtIFRydWUgaWYgYSByb3cgd2FzIGRlbGV0ZWQuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVTZXRCeU5hbWUoZW1haWwsIHNldE5hbWUpIHtcbiAgZGVidWdMb2coTU9EVUxFLCBgZGVsZXRlU2V0QnlOYW1lKCR7ZW1haWx9LCAke3NldE5hbWV9KWApO1xuXG4gIGNvbnN0IFtyZXN1bHRdID0gYXdhaXQgcG9vbC5xdWVyeShcbiAgICAnREVMRVRFIEZST00gc2V0cyBXSEVSRSBlbWFpbCA9ID8gQU5EIHNldF9uYW1lID0gPycsXG4gICAgW2VtYWlsLCBzZXROYW1lXVxuICApO1xuXG4gIGRlYnVnTG9nKE1PRFVMRSwgYGRlbGV0ZVNldEJ5TmFtZSDihpIgYWZmZWN0ZWRSb3dzPSR7cmVzdWx0LmFmZmVjdGVkUm93c31gKTtcbiAgcmV0dXJuIHJlc3VsdC5hZmZlY3RlZFJvd3MgPiAwO1xufVxuXG4vKipcbiAqIFNhdmUgKGluc2VydCBvciB1cGRhdGUpIGEgc2V0IG9mIHZhdWx0IGFuZCB3YWxsZXRzIGZvciBhIHVzZXIuXG4gKiBAcGFyYW0ge3N0cmluZ30gZW1haWwgLSB1c2VyJ3MgZW1haWxcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gbmFtZSBvZiB0aGUgYWRkcmVzcyBzZXRcbiAqIEBwYXJhbSB7c3RyaW5nfSB2YXVsdCAtIHZhdWx0IGFkZHJlc3MgKG9wdGlvbmFsKVxuICogQHBhcmFtIHtzdHJpbmdbXX0gd2FsbGV0cyAtIGxpc3Qgb2Ygd2FsbGV0IGFkZHJlc3Nlc1xuICogQHJldHVybnMge1Byb21pc2U8Ym9vbGVhbj59XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzYXZlU2V0Rm9yVXNlcihlbWFpbCwgbmFtZSwgdmF1bHQsIHdhbGxldHMpIHtcbiAgZGVidWdMb2coTU9EVUxFLCBgc2F2ZVNldEZvclVzZXIoJHtlbWFpbH0sICR7bmFtZX0sIHZhdWx0PSR7dmF1bHQgPyAneWVzJyA6ICdubyd9LCAjd2FsbGV0cz0ke3dhbGxldHMubGVuZ3RofSlgKTtcblxuICBhd2FpdCBwb29sLnF1ZXJ5KFxuICAgICdSRVBMQUNFIElOVE8gc2V0cyAoZW1haWwsIHNldF9uYW1lLCB2YXVsdF9hZGRyZXNzLCB3YWxsZXRfYWRkcmVzc2VzKSBWQUxVRVMgKD8sID8sID8sID8pJyxcbiAgICBbZW1haWwsIG5hbWUsIHZhdWx0LCB3YWxsZXRzLmpvaW4oJywnKV1cbiAgKTtcblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuXG4iXSwibmFtZXMiOlsibXlzcWwiLCJkZWJ1Z0xvZyIsIk1PRFVMRSIsInBvb2wiLCJjcmVhdGVQb29sIiwiaG9zdCIsInByb2Nlc3MiLCJlbnYiLCJEQl9IT1NUIiwidXNlciIsIkRCX1VTRVIiLCJwYXNzd29yZCIsIkRCX1BBU1MiLCJkYXRhYmFzZSIsIkRCX05BTUUiLCJmaW5kVXNlciIsImVtYWlsIiwicm93cyIsInF1ZXJ5IiwibGVuZ3RoIiwiZmluZE9yQ3JlYXRlVXNlciIsInN0b3JlQ29uZmlybWF0aW9uQ29kZSIsImNvZGUiLCJrZWVwTG9nZ2VkSW4iLCJmaW5kRW1haWxCeUNvbmZpcm1hdGlvbkNvZGUiLCJzdG9yZVNlc3Npb25JZCIsInNlc3Npb25JZCIsInNsaWNlIiwiY2xlYXJDb25maXJtYXRpb25Db2RlIiwiZ2V0S2VlcExvZ2dlZEluIiwia2VlcF9sb2dnZWRfaW4iLCJmaW5kRW1haWxCeVNlc3Npb25JZCIsImxvYWRDdXJyZW50U2V0Iiwic2V0Iiwid2FsbGV0X2FkZHJlc3NlcyIsInNwbGl0IiwibWFwIiwicyIsInRyaW0iLCJzYXZlQ3VycmVudFNldCIsIm5hbWUiLCJ2YXVsdCIsIndhbGxldHMiLCJqb2luIiwibG9hZFdhbGxldE5hbWVNYXAiLCJyb3ciLCJ3YWxsZXRfYWRkcmVzcyIsInRvTG93ZXJDYXNlIiwic2F2ZVdhbGxldE5hbWVzIiwibmFtZU1hcCIsIk9iamVjdCIsImtleXMiLCJjb25uIiwiZ2V0Q29ubmVjdGlvbiIsImJlZ2luVHJhbnNhY3Rpb24iLCJpbnNlcnRRdWVyeSIsImRlbGV0ZVF1ZXJ5IiwiaW5zZXJ0U3RtdCIsInByZXBhcmUiLCJkZWxldGVTdG10Iiwid2FsbGV0IiwiZW50cmllcyIsImV4ZWN1dGUiLCJjbG9zZSIsImNvbW1pdCIsImVyciIsInJvbGxiYWNrIiwiY29uc29sZSIsImVycm9yIiwicmVsZWFzZSIsImxpc3RTYXZlZFNldHMiLCJzZXRfbmFtZSIsImxvYWRTYXZlZFNldCIsImRlbGV0ZVNldEJ5TmFtZSIsInNldE5hbWUiLCJyZXN1bHQiLCJhZmZlY3RlZFJvd3MiLCJzYXZlU2V0Rm9yVXNlciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/db.js\n");

/***/ }),

/***/ "(rsc)/./lib/logger.js":
/*!***********************!*\
  !*** ./lib/logger.js ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   debugLog: () => (/* binding */ debugLog),\n/* harmony export */   logError: () => (/* binding */ logError)\n/* harmony export */ });\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);\n/**\n * Author: Dr. Martín Raskovsky\n * Date: April 2025\n *\n * Logging utility for backend diagnostics.\n * - Logs are written to ../logs/next-debug.log\n * - Module tags are padded/truncated to 8 characters for alignment\n * - Creates log file and directory automatically if missing\n */ \n\nconst logPath = path__WEBPACK_IMPORTED_MODULE_1___default().resolve(process.cwd(), \"../logs/next-debug.log\");\nfunction initLogFile() {\n    const logDir = path__WEBPACK_IMPORTED_MODULE_1___default().dirname(logPath);\n    if (!fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(logDir)) fs__WEBPACK_IMPORTED_MODULE_0___default().mkdirSync(logDir, {\n        recursive: true\n    });\n    if (!fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(logPath)) fs__WEBPACK_IMPORTED_MODULE_0___default().writeFileSync(logPath, \"\");\n}\ninitLogFile();\n/**\n * Appends a debug log message to the file.\n * @param {string} module\n * @param {string} message\n */ function debugLog(module, message) {\n    const padded = module.padEnd(8).slice(0, 8);\n    const timestamp = new Date().toISOString();\n    const final = `[${timestamp}] [${padded}]\\t${message}`;\n    try {\n        fs__WEBPACK_IMPORTED_MODULE_0___default().appendFileSync(logPath, final + \"\\n\");\n    } catch (err) {\n        console.error(`[logger] Failed to write log: ${err.message}`);\n    }\n}\n/**\n * Appends an error log message to the file (marked ❌).\n * @param {string} message\n */ function logError(message) {\n    const timestamp = new Date().toISOString();\n    const final = `[${timestamp}] [ERROR   ]\\t❌ ${message}`;\n    try {\n        fs__WEBPACK_IMPORTED_MODULE_0___default().appendFileSync(logPath, final + \"\\n\");\n    } catch (err) {\n        console.error(`[logger] Failed to write error: ${err.message}`);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvbG9nZ2VyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBOzs7Ozs7OztDQVFDLEdBRW1CO0FBQ0k7QUFFeEIsTUFBTUUsVUFBVUQsbURBQVksQ0FBQ0csUUFBUUMsR0FBRyxJQUFJO0FBRTVDLFNBQVNDO0lBQ1AsTUFBTUMsU0FBU04sbURBQVksQ0FBQ0M7SUFDNUIsSUFBSSxDQUFDRixvREFBYSxDQUFDTyxTQUFTUCxtREFBWSxDQUFDTyxRQUFRO1FBQUVJLFdBQVc7SUFBSztJQUNuRSxJQUFJLENBQUNYLG9EQUFhLENBQUNFLFVBQVVGLHVEQUFnQixDQUFDRSxTQUFTO0FBQ3pEO0FBRUFJO0FBRUE7Ozs7Q0FJQyxHQUNNLFNBQVNPLFNBQVNDLE1BQU0sRUFBRUMsT0FBTztJQUN0QyxNQUFNQyxTQUFTRixPQUFPRyxNQUFNLENBQUMsR0FBR0MsS0FBSyxDQUFDLEdBQUc7SUFDekMsTUFBTUMsWUFBWSxJQUFJQyxPQUFPQyxXQUFXO0lBQ3hDLE1BQU1DLFFBQVEsQ0FBQyxDQUFDLEVBQUVILFVBQVUsR0FBRyxFQUFFSCxPQUFPLEdBQUcsRUFBRUQsUUFBUSxDQUFDO0lBQ3RELElBQUk7UUFDRmYsd0RBQWlCLENBQUNFLFNBQVNvQixRQUFRO0lBQ3JDLEVBQUUsT0FBT0UsS0FBSztRQUNaQyxRQUFRQyxLQUFLLENBQUMsQ0FBQyw4QkFBOEIsRUFBRUYsSUFBSVQsT0FBTyxDQUFDLENBQUM7SUFDOUQ7QUFDRjtBQUVBOzs7Q0FHQyxHQUNNLFNBQVNZLFNBQVNaLE9BQU87SUFDOUIsTUFBTUksWUFBWSxJQUFJQyxPQUFPQyxXQUFXO0lBQ3hDLE1BQU1DLFFBQVEsQ0FBQyxDQUFDLEVBQUVILFVBQVUsZ0JBQWdCLEVBQUVKLFFBQVEsQ0FBQztJQUN2RCxJQUFJO1FBQ0ZmLHdEQUFpQixDQUFDRSxTQUFTb0IsUUFBUTtJQUNyQyxFQUFFLE9BQU9FLEtBQUs7UUFDWkMsUUFBUUMsS0FBSyxDQUFDLENBQUMsZ0NBQWdDLEVBQUVGLElBQUlULE9BQU8sQ0FBQyxDQUFDO0lBQ2hFO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92YXdhLW5leHQvLi9saWIvbG9nZ2VyLmpzPzBiMmMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBBdXRob3I6IERyLiBNYXJ0w61uIFJhc2tvdnNreVxuICogRGF0ZTogQXByaWwgMjAyNVxuICpcbiAqIExvZ2dpbmcgdXRpbGl0eSBmb3IgYmFja2VuZCBkaWFnbm9zdGljcy5cbiAqIC0gTG9ncyBhcmUgd3JpdHRlbiB0byAuLi9sb2dzL25leHQtZGVidWcubG9nXG4gKiAtIE1vZHVsZSB0YWdzIGFyZSBwYWRkZWQvdHJ1bmNhdGVkIHRvIDggY2hhcmFjdGVycyBmb3IgYWxpZ25tZW50XG4gKiAtIENyZWF0ZXMgbG9nIGZpbGUgYW5kIGRpcmVjdG9yeSBhdXRvbWF0aWNhbGx5IGlmIG1pc3NpbmdcbiAqL1xuXG5pbXBvcnQgZnMgZnJvbSAnZnMnO1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XG5cbmNvbnN0IGxvZ1BhdGggPSBwYXRoLnJlc29sdmUocHJvY2Vzcy5jd2QoKSwgJy4uL2xvZ3MvbmV4dC1kZWJ1Zy5sb2cnKTtcblxuZnVuY3Rpb24gaW5pdExvZ0ZpbGUoKSB7XG4gIGNvbnN0IGxvZ0RpciA9IHBhdGguZGlybmFtZShsb2dQYXRoKTtcbiAgaWYgKCFmcy5leGlzdHNTeW5jKGxvZ0RpcikpIGZzLm1rZGlyU3luYyhsb2dEaXIsIHsgcmVjdXJzaXZlOiB0cnVlIH0pO1xuICBpZiAoIWZzLmV4aXN0c1N5bmMobG9nUGF0aCkpIGZzLndyaXRlRmlsZVN5bmMobG9nUGF0aCwgJycpO1xufVxuXG5pbml0TG9nRmlsZSgpO1xuXG4vKipcbiAqIEFwcGVuZHMgYSBkZWJ1ZyBsb2cgbWVzc2FnZSB0byB0aGUgZmlsZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBtb2R1bGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWJ1Z0xvZyhtb2R1bGUsIG1lc3NhZ2UpIHtcbiAgY29uc3QgcGFkZGVkID0gbW9kdWxlLnBhZEVuZCg4KS5zbGljZSgwLCA4KTtcbiAgY29uc3QgdGltZXN0YW1wID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuICBjb25zdCBmaW5hbCA9IGBbJHt0aW1lc3RhbXB9XSBbJHtwYWRkZWR9XVxcdCR7bWVzc2FnZX1gO1xuICB0cnkge1xuICAgIGZzLmFwcGVuZEZpbGVTeW5jKGxvZ1BhdGgsIGZpbmFsICsgJ1xcbicpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBjb25zb2xlLmVycm9yKGBbbG9nZ2VyXSBGYWlsZWQgdG8gd3JpdGUgbG9nOiAke2Vyci5tZXNzYWdlfWApO1xuICB9XG59XG5cbi8qKlxuICogQXBwZW5kcyBhbiBlcnJvciBsb2cgbWVzc2FnZSB0byB0aGUgZmlsZSAobWFya2VkIOKdjCkuXG4gKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZVxuICovXG5leHBvcnQgZnVuY3Rpb24gbG9nRXJyb3IobWVzc2FnZSkge1xuICBjb25zdCB0aW1lc3RhbXAgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG4gIGNvbnN0IGZpbmFsID0gYFske3RpbWVzdGFtcH1dIFtFUlJPUiAgIF1cXHTinYwgJHttZXNzYWdlfWA7XG4gIHRyeSB7XG4gICAgZnMuYXBwZW5kRmlsZVN5bmMobG9nUGF0aCwgZmluYWwgKyAnXFxuJyk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGNvbnNvbGUuZXJyb3IoYFtsb2dnZXJdIEZhaWxlZCB0byB3cml0ZSBlcnJvcjogJHtlcnIubWVzc2FnZX1gKTtcbiAgfVxufVxuXG4iXSwibmFtZXMiOlsiZnMiLCJwYXRoIiwibG9nUGF0aCIsInJlc29sdmUiLCJwcm9jZXNzIiwiY3dkIiwiaW5pdExvZ0ZpbGUiLCJsb2dEaXIiLCJkaXJuYW1lIiwiZXhpc3RzU3luYyIsIm1rZGlyU3luYyIsInJlY3Vyc2l2ZSIsIndyaXRlRmlsZVN5bmMiLCJkZWJ1Z0xvZyIsIm1vZHVsZSIsIm1lc3NhZ2UiLCJwYWRkZWQiLCJwYWRFbmQiLCJzbGljZSIsInRpbWVzdGFtcCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsImZpbmFsIiwiYXBwZW5kRmlsZVN5bmMiLCJlcnIiLCJjb25zb2xlIiwiZXJyb3IiLCJsb2dFcnJvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/logger.js\n");

/***/ }),

/***/ "(rsc)/./lib/loginServer.js":
/*!****************************!*\
  !*** ./lib/loginServer.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getSessionEmail: () => (/* binding */ getSessionEmail)\n/* harmony export */ });\n/* harmony import */ var _sessionUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./sessionUtils.js */ \"(rsc)/./lib/sessionUtils.js\");\n/* harmony import */ var _db_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./db.js */ \"(rsc)/./lib/db.js\");\n/* harmony import */ var _logger_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./logger.js */ \"(rsc)/./lib/logger.js\");\n/**\n * Author: Dr. Martín Raskovsky\n * Date: April 2025\n *\n * loginServer.js\n *\n * Provides session-based user lookup for API routes (server-side only).\n * Now relies on sessionUtils.js for cookie extraction.\n */ \n\n\nconst MODULE = \"loginServer\";\n/**\n * Resolves the logged-in email from session cookies.\n * @returns {Promise<string|null>} - The user email or null\n */ async function getSessionEmail() {\n    const sessionId = (0,_sessionUtils_js__WEBPACK_IMPORTED_MODULE_0__.getSessionId)();\n    if (!sessionId) return null;\n    const email = await (0,_db_js__WEBPACK_IMPORTED_MODULE_1__.findEmailBySessionId)(sessionId);\n    (0,_logger_js__WEBPACK_IMPORTED_MODULE_2__.debugLog)(MODULE, `Session resolved → ${email || \"none\"}`);\n    return email;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvbG9naW5TZXJ2ZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7Ozs7OztDQVFDLEdBRWdEO0FBQ0Y7QUFDUjtBQUV2QyxNQUFNRyxTQUFTO0FBRWY7OztDQUdDLEdBQ00sZUFBZUM7SUFDcEIsTUFBTUMsWUFBWUwsOERBQVlBO0lBQzlCLElBQUksQ0FBQ0ssV0FBVyxPQUFPO0lBRXZCLE1BQU1DLFFBQVEsTUFBTUwsNERBQW9CQSxDQUFDSTtJQUN6Q0gsb0RBQVFBLENBQUNDLFFBQVEsQ0FBQyxtQkFBbUIsRUFBRUcsU0FBUyxPQUFPLENBQUM7SUFDeEQsT0FBT0E7QUFDVCIsInNvdXJjZXMiOlsid2VicGFjazovL3Zhd2EtbmV4dC8uL2xpYi9sb2dpblNlcnZlci5qcz9iNWM5Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQXV0aG9yOiBEci4gTWFydMOtbiBSYXNrb3Zza3lcbiAqIERhdGU6IEFwcmlsIDIwMjVcbiAqXG4gKiBsb2dpblNlcnZlci5qc1xuICpcbiAqIFByb3ZpZGVzIHNlc3Npb24tYmFzZWQgdXNlciBsb29rdXAgZm9yIEFQSSByb3V0ZXMgKHNlcnZlci1zaWRlIG9ubHkpLlxuICogTm93IHJlbGllcyBvbiBzZXNzaW9uVXRpbHMuanMgZm9yIGNvb2tpZSBleHRyYWN0aW9uLlxuICovXG5cbmltcG9ydCB7IGdldFNlc3Npb25JZCB9IGZyb20gJy4vc2Vzc2lvblV0aWxzLmpzJztcbmltcG9ydCB7IGZpbmRFbWFpbEJ5U2Vzc2lvbklkIH0gZnJvbSAnLi9kYi5qcyc7XG5pbXBvcnQgeyBkZWJ1Z0xvZyB9IGZyb20gJy4vbG9nZ2VyLmpzJztcblxuY29uc3QgTU9EVUxFID0gJ2xvZ2luU2VydmVyJztcblxuLyoqXG4gKiBSZXNvbHZlcyB0aGUgbG9nZ2VkLWluIGVtYWlsIGZyb20gc2Vzc2lvbiBjb29raWVzLlxuICogQHJldHVybnMge1Byb21pc2U8c3RyaW5nfG51bGw+fSAtIFRoZSB1c2VyIGVtYWlsIG9yIG51bGxcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFNlc3Npb25FbWFpbCgpIHtcbiAgY29uc3Qgc2Vzc2lvbklkID0gZ2V0U2Vzc2lvbklkKCk7XG4gIGlmICghc2Vzc2lvbklkKSByZXR1cm4gbnVsbDtcblxuICBjb25zdCBlbWFpbCA9IGF3YWl0IGZpbmRFbWFpbEJ5U2Vzc2lvbklkKHNlc3Npb25JZCk7XG4gIGRlYnVnTG9nKE1PRFVMRSwgYFNlc3Npb24gcmVzb2x2ZWQg4oaSICR7ZW1haWwgfHwgJ25vbmUnfWApO1xuICByZXR1cm4gZW1haWw7XG59XG5cbiJdLCJuYW1lcyI6WyJnZXRTZXNzaW9uSWQiLCJmaW5kRW1haWxCeVNlc3Npb25JZCIsImRlYnVnTG9nIiwiTU9EVUxFIiwiZ2V0U2Vzc2lvbkVtYWlsIiwic2Vzc2lvbklkIiwiZW1haWwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/loginServer.js\n");

/***/ }),

/***/ "(rsc)/./lib/logs.js":
/*!*********************!*\
  !*** ./lib/logs.js ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   computeChainDiffs: () => (/* binding */ computeChainDiffs),\n/* harmony export */   computeDifferences: () => (/* binding */ computeDifferences),\n/* harmony export */   findLatestLog: () => (/* binding */ findLatestLog),\n/* harmony export */   getISOTimeStamp: () => (/* binding */ getISOTimeStamp),\n/* harmony export */   getSignature: () => (/* binding */ getSignature),\n/* harmony export */   logFileName: () => (/* binding */ logFileName),\n/* harmony export */   writeCurrentLog: () => (/* binding */ writeCurrentLog)\n/* harmony export */ });\n/* harmony import */ var fs_promises__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fs/promises */ \"fs/promises\");\n/* harmony import */ var fs_promises__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(fs_promises__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! crypto */ \"crypto\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(crypto__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _logger_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./logger.js */ \"(rsc)/./lib/logger.js\");\n// src/next/lib/logs.js\n/**\n * Author: Dr. Martín Raskovsky\n * Date: April 2025\n *\n * Logs and Diff Utilities\n * ------------------------\n * This module mirrors Perl Logs.pm:\n * - Creates signatures for log files\n * - Finds previous log\n * - Writes current log if different\n * - Computes differences (wallet & totals)\n */ \n\n\n\nconst MODULE = \"logs\";\nconst LOG_DIR = path__WEBPACK_IMPORTED_MODULE_1___default().resolve(process.cwd(), \"public/data\");\nfunction deepSortObject(obj) {\n    if (Array.isArray(obj)) {\n        return obj.map(deepSortObject);\n    } else if (obj && typeof obj === \"object\") {\n        return Object.keys(obj).sort().reduce((acc, key)=>{\n            acc[key] = deepSortObject(obj[key]);\n            return acc;\n        }, {});\n    }\n    return obj;\n}\n// ─────────────────────────────────────────────\n// Signature Generation\n// ─────────────────────────────────────────────\nfunction getSignature(email, vault, wallets = []) {\n    //debugLog(MODULE, `getSignature(${email}, ${vault}, wallets=${wallets.length})`);\n    let sig = \"\";\n    if (email) {\n        sig += email.replace(/@/g, \"\").replace(/[^a-zA-Z0-9_.-]/g, \"\");\n    }\n    const addresses = [];\n    if (vault) addresses.push(vault);\n    if (wallets && Array.isArray(wallets)) addresses.push(...wallets);\n    const cleaned = addresses.map((a)=>a.replace(/^0x/, \"\").replace(/[^a-zA-Z0-9]/g, \"\"));\n    cleaned.sort();\n    const segmentLen = cleaned.length <= 1 ? 10 : cleaned.length <= 3 ? 6 : cleaned.length <= 5 ? 4 : 3;\n    for (const addr of cleaned){\n        if (addr.length >= segmentLen * 2) {\n            sig += `_${addr.slice(0, segmentLen)}_${addr.slice(-segmentLen)}`;\n        } else {\n            sig += `_${addr}`;\n        }\n    }\n    return sig.slice(0, 200);\n}\n// ─────────────────────────────────────────────\n// File Naming / Path Helpers\n// ─────────────────────────────────────────────\nfunction getISOTimeStamp() {\n    const now = new Date();\n    const ms = now.getMilliseconds();\n    return now.toISOString().replace(/:/g, \"-\").replace(/\\..+/, `-${String(ms).padStart(3, \"0\")}Z`);\n}\nfunction logFileName(signature, timestamp) {\n    return `${signature}_${timestamp}.json`;\n}\n// ─────────────────────────────────────────────\n// Latest Log Lookup\n// ─────────────────────────────────────────────\nasync function findLatestLog(signature) {\n    //debugLog(MODULE, `findLatestLog(${signature})`);\n    try {\n        const files = await fs_promises__WEBPACK_IMPORTED_MODULE_0___default().readdir(LOG_DIR);\n        const matched = files.filter((f)=>f.startsWith(signature) && f.endsWith(\".json\")).sort().reverse();\n        if (!matched.length) return null;\n        const fullPath = path__WEBPACK_IMPORTED_MODULE_1___default().join(LOG_DIR, matched[0]);\n        const content = await fs_promises__WEBPACK_IMPORTED_MODULE_0___default().readFile(fullPath, \"utf8\");\n        (0,_logger_js__WEBPACK_IMPORTED_MODULE_3__.debugLog)(MODULE, `Read=${fullPath}`);\n        //debugLog(MODULE, `Read=${content}`);\n        return JSON.parse(content);\n    } catch (err) {\n        (0,_logger_js__WEBPACK_IMPORTED_MODULE_3__.logError)(`Error in findLatestLog: ${err.message}`);\n        return null;\n    }\n}\n// ─────────────────────────────────────────────\n// Log Writing (only if changed)\nasync function writeCurrentLog(signature, currentData, previousData = null) {\n    //debugLog(MODULE, `writeCurrentLog(${signature})`);\n    try {\n        const sortedCurrent = deepSortObject(currentData);\n        const newJson = JSON.stringify(sortedCurrent, null, 2);\n        if (previousData) {\n            const sortedPrevious = deepSortObject(previousData);\n            const oldJson = JSON.stringify(sortedPrevious, null, 2);\n            if (newJson === oldJson) {\n                //debugLog(MODULE, `oldJson=${oldJson}`);\n                //debugLog(MODULE, `newJson=${newJson}`);\n                (0,_logger_js__WEBPACK_IMPORTED_MODULE_3__.debugLog)(MODULE, \"Not written old json equals new json\");\n                return; // No change\n            }\n        }\n        const fileName = logFileName(signature, getISOTimeStamp());\n        const fullPath = path__WEBPACK_IMPORTED_MODULE_1___default().join(LOG_DIR, fileName);\n        await fs_promises__WEBPACK_IMPORTED_MODULE_0___default().writeFile(fullPath, newJson, \"utf8\");\n        (0,_logger_js__WEBPACK_IMPORTED_MODULE_3__.debugLog)(MODULE, `Written: ${fullPath}`);\n    } catch (err) {\n        (0,_logger_js__WEBPACK_IMPORTED_MODULE_3__.logError)(`writeCurrentLog failed: ${err.message}`);\n    }\n}\n// ─────────────────────────────────────────────\n// Difference Calculation\n// ─────────────────────────────────────────────\nfunction computeDifference(key, current, previous) {\n    if (!current || !previous || current === previous) return \"\";\n    if (current === \"0 (unavailable)\" || previous === \"0 (unavailable)\") return \"\";\n    const a = parseFloat(String(current).replace(/,/g, \"\")) || 0;\n    const b = parseFloat(String(previous).replace(/,/g, \"\")) || 0;\n    const diff = a - b;\n    if (diff === 0) return \"\";\n    const cls = diff > 0 ? \"diff-cell increase\" : \"diff-cell decrease\";\n    (0,_logger_js__WEBPACK_IMPORTED_MODULE_3__.debugLog)(MODULE, `${key}\\t${diff} ${a} ${b} ${cls}`);\n    return `<span class=\"${cls}\">(${diff > 0 ? \"+\" : \"\"}${diff.toFixed(2)})</span>`;\n}\nfunction computeChainDiffs(current, previous) {\n    (0,_logger_js__WEBPACK_IMPORTED_MODULE_3__.debugLog)(\"logs\", `computeChainDiffs: wallets=${current.wallets?.length || 0}, sectionKeys=${current.sectionKeys?.length || 0}`);\n    const walletIndex = {};\n    const prevWallets = previous?.wallets || [];\n    for(let i = 0; i < prevWallets.length; i++){\n        walletIndex[prevWallets[i].toLowerCase()] = i;\n    }\n    if (!current.__diffs) current.__diffs = {};\n    for (const sectionKey of current.sectionKeys || []){\n        if (!current[sectionKey] || !previous[sectionKey]) {\n            (0,_logger_js__WEBPACK_IMPORTED_MODULE_3__.debugLog)(\"logs\", `⚠️ Skipping section ${sectionKey}`);\n            continue;\n        }\n        current.__diffs[sectionKey] = [];\n        for(let i = 0; i < current.wallets.length; i++){\n            const wallet = current.wallets[i]?.toLowerCase();\n            const prevIdx = walletIndex[wallet];\n            const prevVal = prevIdx !== undefined ? previous[sectionKey][prevIdx] : \"\";\n            const currVal = current[sectionKey][i];\n            const diff = computeDifference(`${sectionKey}[${i}]`, currVal, prevVal);\n            current.__diffs[sectionKey][i] = diff;\n        }\n    }\n    // Totals\n    const totalDiffs = [];\n    for(let i = 0; i < current.totalKeys.length; i++){\n        const k = current.totalKeys[i];\n        totalDiffs.push(computeDifference(`Total[${i}]`, current[k], previous[k]));\n    }\n    current.__diff_totals = totalDiffs;\n}\nfunction computeDifferences(current, previous) {\n    (0,_logger_js__WEBPACK_IMPORTED_MODULE_3__.debugLog)(\"logs\", \"computeDifferences()\");\n    if (!current || !previous) return;\n    [\n        \"evm\",\n        \"sol\",\n        \"tez\"\n    ].forEach((chain)=>{\n        if (current[chain] && previous[chain]) {\n            computeChainDiffs(current[chain], previous[chain]);\n        }\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvbG9ncy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLHVCQUF1QjtBQUV2Qjs7Ozs7Ozs7Ozs7Q0FXQyxHQUU0QjtBQUNMO0FBQ0k7QUFDcUI7QUFFakQsTUFBTUssU0FBUztBQUNmLE1BQU1DLFVBQVVMLG1EQUFZLENBQUNPLFFBQVFDLEdBQUcsSUFBSTtBQUU1QyxTQUFTQyxlQUFlQyxHQUFHO0lBQ3pCLElBQUlDLE1BQU1DLE9BQU8sQ0FBQ0YsTUFBTTtRQUN0QixPQUFPQSxJQUFJRyxHQUFHLENBQUNKO0lBQ2pCLE9BQU8sSUFBSUMsT0FBTyxPQUFPQSxRQUFRLFVBQVU7UUFDekMsT0FBT0ksT0FBT0MsSUFBSSxDQUFDTCxLQUNoQk0sSUFBSSxHQUNKQyxNQUFNLENBQUMsQ0FBQ0MsS0FBS0M7WUFDWkQsR0FBRyxDQUFDQyxJQUFJLEdBQUdWLGVBQWVDLEdBQUcsQ0FBQ1MsSUFBSTtZQUNsQyxPQUFPRDtRQUNULEdBQUcsQ0FBQztJQUNSO0lBQ0EsT0FBT1I7QUFDVDtBQUdBLGdEQUFnRDtBQUNoRCx1QkFBdUI7QUFDdkIsZ0RBQWdEO0FBQ3pDLFNBQVNVLGFBQWFDLEtBQUssRUFBRUMsS0FBSyxFQUFFQyxVQUFVLEVBQUU7SUFDckQsa0ZBQWtGO0lBRWxGLElBQUlDLE1BQU07SUFDVixJQUFJSCxPQUFPO1FBQ1RHLE9BQU9ILE1BQU1JLE9BQU8sQ0FBQyxNQUFNLElBQUlBLE9BQU8sQ0FBQyxvQkFBb0I7SUFDN0Q7SUFFQSxNQUFNQyxZQUFZLEVBQUU7SUFDcEIsSUFBSUosT0FBT0ksVUFBVUMsSUFBSSxDQUFDTDtJQUMxQixJQUFJQyxXQUFXWixNQUFNQyxPQUFPLENBQUNXLFVBQVVHLFVBQVVDLElBQUksSUFBSUo7SUFFekQsTUFBTUssVUFBVUYsVUFBVWIsR0FBRyxDQUFDZ0IsQ0FBQUEsSUFBS0EsRUFBRUosT0FBTyxDQUFDLE9BQU8sSUFBSUEsT0FBTyxDQUFDLGlCQUFpQjtJQUNqRkcsUUFBUVosSUFBSTtJQUVaLE1BQU1jLGFBQWFGLFFBQVFHLE1BQU0sSUFBSSxJQUFJLEtBQUtILFFBQVFHLE1BQU0sSUFBSSxJQUFJLElBQUlILFFBQVFHLE1BQU0sSUFBSSxJQUFJLElBQUk7SUFFbEcsS0FBSyxNQUFNQyxRQUFRSixRQUFTO1FBQzFCLElBQUlJLEtBQUtELE1BQU0sSUFBSUQsYUFBYSxHQUFHO1lBQ2pDTixPQUFPLENBQUMsQ0FBQyxFQUFFUSxLQUFLQyxLQUFLLENBQUMsR0FBR0gsWUFBWSxDQUFDLEVBQUVFLEtBQUtDLEtBQUssQ0FBQyxDQUFDSCxZQUFZLENBQUM7UUFDbkUsT0FBTztZQUNMTixPQUFPLENBQUMsQ0FBQyxFQUFFUSxLQUFLLENBQUM7UUFDbkI7SUFDRjtJQUVBLE9BQU9SLElBQUlTLEtBQUssQ0FBQyxHQUFHO0FBQ3RCO0FBRUEsZ0RBQWdEO0FBQ2hELDZCQUE2QjtBQUM3QixnREFBZ0Q7QUFDekMsU0FBU0M7SUFDZCxNQUFNQyxNQUFNLElBQUlDO0lBQ2hCLE1BQU1DLEtBQUtGLElBQUlHLGVBQWU7SUFDOUIsT0FBT0gsSUFBSUksV0FBVyxHQUFHZCxPQUFPLENBQUMsTUFBTSxLQUFLQSxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBRWUsT0FBT0gsSUFBSUksUUFBUSxDQUFDLEdBQUcsS0FBSyxDQUFDLENBQUM7QUFDaEc7QUFFTyxTQUFTQyxZQUFZQyxTQUFTLEVBQUVDLFNBQVM7SUFDOUMsT0FBTyxDQUFDLEVBQUVELFVBQVUsQ0FBQyxFQUFFQyxVQUFVLEtBQUssQ0FBQztBQUN6QztBQUVBLGdEQUFnRDtBQUNoRCxvQkFBb0I7QUFDcEIsZ0RBQWdEO0FBQ3pDLGVBQWVDLGNBQWNGLFNBQVM7SUFDM0Msa0RBQWtEO0lBQ2xELElBQUk7UUFDRixNQUFNRyxRQUFRLE1BQU0vQywwREFBVSxDQUFDTTtRQUMvQixNQUFNMkMsVUFBVUYsTUFDYkcsTUFBTSxDQUFDQyxDQUFBQSxJQUFLQSxFQUFFQyxVQUFVLENBQUNSLGNBQWNPLEVBQUVFLFFBQVEsQ0FBQyxVQUNsRHBDLElBQUksR0FDSnFDLE9BQU87UUFDVixJQUFJLENBQUNMLFFBQVFqQixNQUFNLEVBQUUsT0FBTztRQUU1QixNQUFNdUIsV0FBV3RELGdEQUFTLENBQUNLLFNBQVMyQyxPQUFPLENBQUMsRUFBRTtRQUM5QyxNQUFNUSxVQUFVLE1BQU16RCwyREFBVyxDQUFDdUQsVUFBVTtRQUM1Q3BELG9EQUFRQSxDQUFDRSxRQUFRLENBQUMsS0FBSyxFQUFFa0QsU0FBUyxDQUFDO1FBQ25DLHNDQUFzQztRQUN0QyxPQUFPSSxLQUFLQyxLQUFLLENBQUNIO0lBQ3BCLEVBQUUsT0FBT0ksS0FBSztRQUNaekQsb0RBQVFBLENBQUMsQ0FBQyx3QkFBd0IsRUFBRXlELElBQUlDLE9BQU8sQ0FBQyxDQUFDO1FBQ2pELE9BQU87SUFDVDtBQUNGO0FBRUEsZ0RBQWdEO0FBQ2hELGdDQUFnQztBQUN6QixlQUFlQyxnQkFBZ0JuQixTQUFTLEVBQUVvQixXQUFXLEVBQUVDLGVBQWUsSUFBSTtJQUMvRSxvREFBb0Q7SUFDcEQsSUFBSTtRQUNGLE1BQU1DLGdCQUFnQnhELGVBQWVzRDtRQUNyQyxNQUFNRyxVQUFVUixLQUFLUyxTQUFTLENBQUNGLGVBQWUsTUFBTTtRQUVwRCxJQUFJRCxjQUFjO1lBQ2hCLE1BQU1JLGlCQUFpQjNELGVBQWV1RDtZQUN0QyxNQUFNSyxVQUFVWCxLQUFLUyxTQUFTLENBQUNDLGdCQUFnQixNQUFNO1lBQ3JELElBQUlGLFlBQVlHLFNBQVM7Z0JBQ3ZCLHlDQUF5QztnQkFDekMseUNBQXlDO2dCQUN6Q25FLG9EQUFRQSxDQUFDRSxRQUFRO2dCQUNqQixRQUFRLFlBQVk7WUFDdEI7UUFDRjtRQUVBLE1BQU1rRSxXQUFXNUIsWUFBWUMsV0FBV1Q7UUFDeEMsTUFBTW9CLFdBQVd0RCxnREFBUyxDQUFDSyxTQUFTaUU7UUFDcEMsTUFBTXZFLDREQUFZLENBQUN1RCxVQUFVWSxTQUFTO1FBQ3RDaEUsb0RBQVFBLENBQUNFLFFBQVEsQ0FBQyxTQUFTLEVBQUVrRCxTQUFTLENBQUM7SUFDekMsRUFBRSxPQUFPTSxLQUFLO1FBQ1p6RCxvREFBUUEsQ0FBQyxDQUFDLHdCQUF3QixFQUFFeUQsSUFBSUMsT0FBTyxDQUFDLENBQUM7SUFDbkQ7QUFDRjtBQUdBLGdEQUFnRDtBQUNoRCx5QkFBeUI7QUFDekIsZ0RBQWdEO0FBRWhELFNBQVNXLGtCQUFrQnJELEdBQUcsRUFBRXNELE9BQU8sRUFBRUMsUUFBUTtJQUMvQyxJQUFJLENBQUNELFdBQVcsQ0FBQ0MsWUFBWUQsWUFBWUMsVUFBVSxPQUFPO0lBQzFELElBQUlELFlBQVkscUJBQXFCQyxhQUFhLG1CQUFtQixPQUFPO0lBRTVFLE1BQU03QyxJQUFJOEMsV0FBV25DLE9BQU9pQyxTQUFTaEQsT0FBTyxDQUFDLE1BQU0sUUFBUTtJQUMzRCxNQUFNbUQsSUFBSUQsV0FBV25DLE9BQU9rQyxVQUFVakQsT0FBTyxDQUFDLE1BQU0sUUFBUTtJQUM1RCxNQUFNb0QsT0FBT2hELElBQUkrQztJQUVqQixJQUFJQyxTQUFTLEdBQUcsT0FBTztJQUN2QixNQUFNQyxNQUFNRCxPQUFPLElBQUksdUJBQXVCO0lBQzlDM0Usb0RBQVFBLENBQUNFLFFBQVEsQ0FBQyxFQUFFZSxJQUFJLEVBQUUsRUFBRTBELEtBQUssQ0FBQyxFQUFFaEQsRUFBRSxDQUFDLEVBQUUrQyxFQUFFLENBQUMsRUFBRUUsSUFBSSxDQUFDO0lBQ25ELE9BQU8sQ0FBQyxhQUFhLEVBQUVBLElBQUksR0FBRyxFQUFFRCxPQUFPLElBQUksTUFBTSxHQUFHLEVBQUVBLEtBQUtFLE9BQU8sQ0FBQyxHQUFHLFFBQVEsQ0FBQztBQUNqRjtBQUVPLFNBQVNDLGtCQUFrQlAsT0FBTyxFQUFFQyxRQUFRO0lBQ2pEeEUsb0RBQVFBLENBQUMsUUFBUSxDQUFDLDJCQUEyQixFQUFFdUUsUUFBUWxELE9BQU8sRUFBRVEsVUFBVSxFQUFFLGNBQWMsRUFBRTBDLFFBQVFRLFdBQVcsRUFBRWxELFVBQVUsRUFBRSxDQUFDO0lBQzlILE1BQU1tRCxjQUFjLENBQUM7SUFDckIsTUFBTUMsY0FBY1QsVUFBVW5ELFdBQVcsRUFBRTtJQUMzQyxJQUFLLElBQUk2RCxJQUFJLEdBQUdBLElBQUlELFlBQVlwRCxNQUFNLEVBQUVxRCxJQUFLO1FBQzNDRixXQUFXLENBQUNDLFdBQVcsQ0FBQ0MsRUFBRSxDQUFDQyxXQUFXLEdBQUcsR0FBR0Q7SUFDOUM7SUFFQSxJQUFJLENBQUNYLFFBQVFhLE9BQU8sRUFBRWIsUUFBUWEsT0FBTyxHQUFHLENBQUM7SUFFekMsS0FBSyxNQUFNQyxjQUFjZCxRQUFRUSxXQUFXLElBQUksRUFBRSxDQUFFO1FBQ2xELElBQUksQ0FBQ1IsT0FBTyxDQUFDYyxXQUFXLElBQUksQ0FBQ2IsUUFBUSxDQUFDYSxXQUFXLEVBQUU7WUFDakRyRixvREFBUUEsQ0FBQyxRQUFRLENBQUMsb0JBQW9CLEVBQUVxRixXQUFXLENBQUM7WUFDcEQ7UUFDRjtRQUVBZCxRQUFRYSxPQUFPLENBQUNDLFdBQVcsR0FBRyxFQUFFO1FBQ2hDLElBQUssSUFBSUgsSUFBSSxHQUFHQSxJQUFJWCxRQUFRbEQsT0FBTyxDQUFDUSxNQUFNLEVBQUVxRCxJQUFLO1lBQy9DLE1BQU1JLFNBQVNmLFFBQVFsRCxPQUFPLENBQUM2RCxFQUFFLEVBQUVDO1lBQ25DLE1BQU1JLFVBQVVQLFdBQVcsQ0FBQ00sT0FBTztZQUNuQyxNQUFNRSxVQUFVRCxZQUFZRSxZQUFZakIsUUFBUSxDQUFDYSxXQUFXLENBQUNFLFFBQVEsR0FBRztZQUN4RSxNQUFNRyxVQUFVbkIsT0FBTyxDQUFDYyxXQUFXLENBQUNILEVBQUU7WUFDdEMsTUFBTVAsT0FBT0wsa0JBQWtCLENBQUMsRUFBRWUsV0FBVyxDQUFDLEVBQUVILEVBQUUsQ0FBQyxDQUFDLEVBQUVRLFNBQVNGO1lBQy9EakIsUUFBUWEsT0FBTyxDQUFDQyxXQUFXLENBQUNILEVBQUUsR0FBR1A7UUFDbkM7SUFDRjtJQUVBLFNBQVM7SUFDVCxNQUFNZ0IsYUFBYSxFQUFFO0lBQ3JCLElBQUssSUFBSVQsSUFBSSxHQUFHQSxJQUFJWCxRQUFRcUIsU0FBUyxDQUFDL0QsTUFBTSxFQUFFcUQsSUFBSztRQUNqRCxNQUFNVyxJQUFJdEIsUUFBUXFCLFNBQVMsQ0FBQ1YsRUFBRTtRQUM5QlMsV0FBV2xFLElBQUksQ0FBQzZDLGtCQUFrQixDQUFDLE1BQU0sRUFBRVksRUFBRSxDQUFDLENBQUMsRUFBRVgsT0FBTyxDQUFDc0IsRUFBRSxFQUFFckIsUUFBUSxDQUFDcUIsRUFBRTtJQUMxRTtJQUNBdEIsUUFBUXVCLGFBQWEsR0FBR0g7QUFDMUI7QUFFTyxTQUFTSSxtQkFBbUJ4QixPQUFPLEVBQUVDLFFBQVE7SUFDbER4RSxvREFBUUEsQ0FBQyxRQUFRO0lBQ2pCLElBQUksQ0FBQ3VFLFdBQVcsQ0FBQ0MsVUFBVTtJQUUzQjtRQUFDO1FBQU87UUFBTztLQUFNLENBQUN3QixPQUFPLENBQUNDLENBQUFBO1FBQzVCLElBQUkxQixPQUFPLENBQUMwQixNQUFNLElBQUl6QixRQUFRLENBQUN5QixNQUFNLEVBQUU7WUFDckNuQixrQkFBa0JQLE9BQU8sQ0FBQzBCLE1BQU0sRUFBRXpCLFFBQVEsQ0FBQ3lCLE1BQU07UUFDbkQ7SUFDRjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmF3YS1uZXh0Ly4vbGliL2xvZ3MuanM/NDM2YiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvbmV4dC9saWIvbG9ncy5qc1xuXG4vKipcbiAqIEF1dGhvcjogRHIuIE1hcnTDrW4gUmFza292c2t5XG4gKiBEYXRlOiBBcHJpbCAyMDI1XG4gKlxuICogTG9ncyBhbmQgRGlmZiBVdGlsaXRpZXNcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogVGhpcyBtb2R1bGUgbWlycm9ycyBQZXJsIExvZ3MucG06XG4gKiAtIENyZWF0ZXMgc2lnbmF0dXJlcyBmb3IgbG9nIGZpbGVzXG4gKiAtIEZpbmRzIHByZXZpb3VzIGxvZ1xuICogLSBXcml0ZXMgY3VycmVudCBsb2cgaWYgZGlmZmVyZW50XG4gKiAtIENvbXB1dGVzIGRpZmZlcmVuY2VzICh3YWxsZXQgJiB0b3RhbHMpXG4gKi9cblxuaW1wb3J0IGZzIGZyb20gJ2ZzL3Byb21pc2VzJztcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xuaW1wb3J0IGNyeXB0byBmcm9tICdjcnlwdG8nO1xuaW1wb3J0IHsgZGVidWdMb2csIGxvZ0Vycm9yIH0gZnJvbSAnLi9sb2dnZXIuanMnO1xuXG5jb25zdCBNT0RVTEUgPSAnbG9ncyc7XG5jb25zdCBMT0dfRElSID0gcGF0aC5yZXNvbHZlKHByb2Nlc3MuY3dkKCksICdwdWJsaWMvZGF0YScpO1xuXG5mdW5jdGlvbiBkZWVwU29ydE9iamVjdChvYmopIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkob2JqKSkge1xuICAgIHJldHVybiBvYmoubWFwKGRlZXBTb3J0T2JqZWN0KTtcbiAgfSBlbHNlIGlmIChvYmogJiYgdHlwZW9mIG9iaiA9PT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXMob2JqKVxuICAgICAgLnNvcnQoKVxuICAgICAgLnJlZHVjZSgoYWNjLCBrZXkpID0+IHtcbiAgICAgICAgYWNjW2tleV0gPSBkZWVwU29ydE9iamVjdChvYmpba2V5XSk7XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgICB9LCB7fSk7XG4gIH1cbiAgcmV0dXJuIG9iajtcbn1cblxuXG4vLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcbi8vIFNpZ25hdHVyZSBHZW5lcmF0aW9uXG4vLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcbmV4cG9ydCBmdW5jdGlvbiBnZXRTaWduYXR1cmUoZW1haWwsIHZhdWx0LCB3YWxsZXRzID0gW10pIHtcbiAgLy9kZWJ1Z0xvZyhNT0RVTEUsIGBnZXRTaWduYXR1cmUoJHtlbWFpbH0sICR7dmF1bHR9LCB3YWxsZXRzPSR7d2FsbGV0cy5sZW5ndGh9KWApO1xuXG4gIGxldCBzaWcgPSAnJztcbiAgaWYgKGVtYWlsKSB7XG4gICAgc2lnICs9IGVtYWlsLnJlcGxhY2UoL0AvZywgJycpLnJlcGxhY2UoL1teYS16QS1aMC05Xy4tXS9nLCAnJyk7XG4gIH1cblxuICBjb25zdCBhZGRyZXNzZXMgPSBbXTtcbiAgaWYgKHZhdWx0KSBhZGRyZXNzZXMucHVzaCh2YXVsdCk7XG4gIGlmICh3YWxsZXRzICYmIEFycmF5LmlzQXJyYXkod2FsbGV0cykpIGFkZHJlc3Nlcy5wdXNoKC4uLndhbGxldHMpO1xuXG4gIGNvbnN0IGNsZWFuZWQgPSBhZGRyZXNzZXMubWFwKGEgPT4gYS5yZXBsYWNlKC9eMHgvLCAnJykucmVwbGFjZSgvW15hLXpBLVowLTldL2csICcnKSk7XG4gIGNsZWFuZWQuc29ydCgpO1xuXG4gIGNvbnN0IHNlZ21lbnRMZW4gPSBjbGVhbmVkLmxlbmd0aCA8PSAxID8gMTAgOiBjbGVhbmVkLmxlbmd0aCA8PSAzID8gNiA6IGNsZWFuZWQubGVuZ3RoIDw9IDUgPyA0IDogMztcblxuICBmb3IgKGNvbnN0IGFkZHIgb2YgY2xlYW5lZCkge1xuICAgIGlmIChhZGRyLmxlbmd0aCA+PSBzZWdtZW50TGVuICogMikge1xuICAgICAgc2lnICs9IGBfJHthZGRyLnNsaWNlKDAsIHNlZ21lbnRMZW4pfV8ke2FkZHIuc2xpY2UoLXNlZ21lbnRMZW4pfWA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNpZyArPSBgXyR7YWRkcn1gO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBzaWcuc2xpY2UoMCwgMjAwKTtcbn1cblxuLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXG4vLyBGaWxlIE5hbWluZyAvIFBhdGggSGVscGVyc1xuLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXG5leHBvcnQgZnVuY3Rpb24gZ2V0SVNPVGltZVN0YW1wKCkge1xuICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICBjb25zdCBtcyA9IG5vdy5nZXRNaWxsaXNlY29uZHMoKTtcbiAgcmV0dXJuIG5vdy50b0lTT1N0cmluZygpLnJlcGxhY2UoLzovZywgJy0nKS5yZXBsYWNlKC9cXC4uKy8sIGAtJHtTdHJpbmcobXMpLnBhZFN0YXJ0KDMsICcwJyl9WmApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbG9nRmlsZU5hbWUoc2lnbmF0dXJlLCB0aW1lc3RhbXApIHtcbiAgcmV0dXJuIGAke3NpZ25hdHVyZX1fJHt0aW1lc3RhbXB9Lmpzb25gO1xufVxuXG4vLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcbi8vIExhdGVzdCBMb2cgTG9va3VwXG4vLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBmaW5kTGF0ZXN0TG9nKHNpZ25hdHVyZSkge1xuICAvL2RlYnVnTG9nKE1PRFVMRSwgYGZpbmRMYXRlc3RMb2coJHtzaWduYXR1cmV9KWApO1xuICB0cnkge1xuICAgIGNvbnN0IGZpbGVzID0gYXdhaXQgZnMucmVhZGRpcihMT0dfRElSKTtcbiAgICBjb25zdCBtYXRjaGVkID0gZmlsZXNcbiAgICAgIC5maWx0ZXIoZiA9PiBmLnN0YXJ0c1dpdGgoc2lnbmF0dXJlKSAmJiBmLmVuZHNXaXRoKCcuanNvbicpKVxuICAgICAgLnNvcnQoKVxuICAgICAgLnJldmVyc2UoKTtcbiAgICBpZiAoIW1hdGNoZWQubGVuZ3RoKSByZXR1cm4gbnVsbDtcblxuICAgIGNvbnN0IGZ1bGxQYXRoID0gcGF0aC5qb2luKExPR19ESVIsIG1hdGNoZWRbMF0pO1xuICAgIGNvbnN0IGNvbnRlbnQgPSBhd2FpdCBmcy5yZWFkRmlsZShmdWxsUGF0aCwgJ3V0ZjgnKTtcbiAgICBkZWJ1Z0xvZyhNT0RVTEUsIGBSZWFkPSR7ZnVsbFBhdGh9YCk7XG4gICAgLy9kZWJ1Z0xvZyhNT0RVTEUsIGBSZWFkPSR7Y29udGVudH1gKTtcbiAgICByZXR1cm4gSlNPTi5wYXJzZShjb250ZW50KTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgbG9nRXJyb3IoYEVycm9yIGluIGZpbmRMYXRlc3RMb2c6ICR7ZXJyLm1lc3NhZ2V9YCk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXG4vLyBMb2cgV3JpdGluZyAob25seSBpZiBjaGFuZ2VkKVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHdyaXRlQ3VycmVudExvZyhzaWduYXR1cmUsIGN1cnJlbnREYXRhLCBwcmV2aW91c0RhdGEgPSBudWxsKSB7XG4gIC8vZGVidWdMb2coTU9EVUxFLCBgd3JpdGVDdXJyZW50TG9nKCR7c2lnbmF0dXJlfSlgKTtcbiAgdHJ5IHtcbiAgICBjb25zdCBzb3J0ZWRDdXJyZW50ID0gZGVlcFNvcnRPYmplY3QoY3VycmVudERhdGEpO1xuICAgIGNvbnN0IG5ld0pzb24gPSBKU09OLnN0cmluZ2lmeShzb3J0ZWRDdXJyZW50LCBudWxsLCAyKTtcblxuICAgIGlmIChwcmV2aW91c0RhdGEpIHtcbiAgICAgIGNvbnN0IHNvcnRlZFByZXZpb3VzID0gZGVlcFNvcnRPYmplY3QocHJldmlvdXNEYXRhKTtcbiAgICAgIGNvbnN0IG9sZEpzb24gPSBKU09OLnN0cmluZ2lmeShzb3J0ZWRQcmV2aW91cywgbnVsbCwgMik7XG4gICAgICBpZiAobmV3SnNvbiA9PT0gb2xkSnNvbikge1xuICAgICAgICAvL2RlYnVnTG9nKE1PRFVMRSwgYG9sZEpzb249JHtvbGRKc29ufWApO1xuICAgICAgICAvL2RlYnVnTG9nKE1PRFVMRSwgYG5ld0pzb249JHtuZXdKc29ufWApO1xuICAgICAgICBkZWJ1Z0xvZyhNT0RVTEUsIFwiTm90IHdyaXR0ZW4gb2xkIGpzb24gZXF1YWxzIG5ldyBqc29uXCIpO1xuICAgICAgICByZXR1cm47IC8vIE5vIGNoYW5nZVxuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGZpbGVOYW1lID0gbG9nRmlsZU5hbWUoc2lnbmF0dXJlLCBnZXRJU09UaW1lU3RhbXAoKSk7XG4gICAgY29uc3QgZnVsbFBhdGggPSBwYXRoLmpvaW4oTE9HX0RJUiwgZmlsZU5hbWUpO1xuICAgIGF3YWl0IGZzLndyaXRlRmlsZShmdWxsUGF0aCwgbmV3SnNvbiwgJ3V0ZjgnKTtcbiAgICBkZWJ1Z0xvZyhNT0RVTEUsIGBXcml0dGVuOiAke2Z1bGxQYXRofWApO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBsb2dFcnJvcihgd3JpdGVDdXJyZW50TG9nIGZhaWxlZDogJHtlcnIubWVzc2FnZX1gKTtcbiAgfVxufVxuXG5cbi8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxuLy8gRGlmZmVyZW5jZSBDYWxjdWxhdGlvblxuLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXG5cbmZ1bmN0aW9uIGNvbXB1dGVEaWZmZXJlbmNlKGtleSwgY3VycmVudCwgcHJldmlvdXMpIHtcbiAgaWYgKCFjdXJyZW50IHx8ICFwcmV2aW91cyB8fCBjdXJyZW50ID09PSBwcmV2aW91cykgcmV0dXJuICcnO1xuICBpZiAoY3VycmVudCA9PT0gJzAgKHVuYXZhaWxhYmxlKScgfHwgcHJldmlvdXMgPT09ICcwICh1bmF2YWlsYWJsZSknKSByZXR1cm4gJyc7XG5cbiAgY29uc3QgYSA9IHBhcnNlRmxvYXQoU3RyaW5nKGN1cnJlbnQpLnJlcGxhY2UoLywvZywgJycpKSB8fCAwO1xuICBjb25zdCBiID0gcGFyc2VGbG9hdChTdHJpbmcocHJldmlvdXMpLnJlcGxhY2UoLywvZywgJycpKSB8fCAwO1xuICBjb25zdCBkaWZmID0gYSAtIGI7XG5cbiAgaWYgKGRpZmYgPT09IDApIHJldHVybiAnJztcbiAgY29uc3QgY2xzID0gZGlmZiA+IDAgPyAnZGlmZi1jZWxsIGluY3JlYXNlJyA6ICdkaWZmLWNlbGwgZGVjcmVhc2UnO1xuICBkZWJ1Z0xvZyhNT0RVTEUsIGAke2tleX1cXHQke2RpZmZ9ICR7YX0gJHtifSAke2Nsc31gKTtcbiAgcmV0dXJuIGA8c3BhbiBjbGFzcz1cIiR7Y2xzfVwiPigke2RpZmYgPiAwID8gJysnIDogJyd9JHtkaWZmLnRvRml4ZWQoMil9KTwvc3Bhbj5gO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY29tcHV0ZUNoYWluRGlmZnMoY3VycmVudCwgcHJldmlvdXMpIHtcbiAgZGVidWdMb2coJ2xvZ3MnLCBgY29tcHV0ZUNoYWluRGlmZnM6IHdhbGxldHM9JHtjdXJyZW50LndhbGxldHM/Lmxlbmd0aCB8fCAwfSwgc2VjdGlvbktleXM9JHtjdXJyZW50LnNlY3Rpb25LZXlzPy5sZW5ndGggfHwgMH1gKTtcbiAgY29uc3Qgd2FsbGV0SW5kZXggPSB7fTtcbiAgY29uc3QgcHJldldhbGxldHMgPSBwcmV2aW91cz8ud2FsbGV0cyB8fCBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcmV2V2FsbGV0cy5sZW5ndGg7IGkrKykge1xuICAgIHdhbGxldEluZGV4W3ByZXZXYWxsZXRzW2ldLnRvTG93ZXJDYXNlKCldID0gaTtcbiAgfVxuXG4gIGlmICghY3VycmVudC5fX2RpZmZzKSBjdXJyZW50Ll9fZGlmZnMgPSB7fTtcblxuICBmb3IgKGNvbnN0IHNlY3Rpb25LZXkgb2YgY3VycmVudC5zZWN0aW9uS2V5cyB8fCBbXSkge1xuICAgIGlmICghY3VycmVudFtzZWN0aW9uS2V5XSB8fCAhcHJldmlvdXNbc2VjdGlvbktleV0pIHtcbiAgICAgIGRlYnVnTG9nKCdsb2dzJywgYOKaoO+4jyBTa2lwcGluZyBzZWN0aW9uICR7c2VjdGlvbktleX1gKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGN1cnJlbnQuX19kaWZmc1tzZWN0aW9uS2V5XSA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY3VycmVudC53YWxsZXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCB3YWxsZXQgPSBjdXJyZW50LndhbGxldHNbaV0/LnRvTG93ZXJDYXNlKCk7XG4gICAgICBjb25zdCBwcmV2SWR4ID0gd2FsbGV0SW5kZXhbd2FsbGV0XTtcbiAgICAgIGNvbnN0IHByZXZWYWwgPSBwcmV2SWR4ICE9PSB1bmRlZmluZWQgPyBwcmV2aW91c1tzZWN0aW9uS2V5XVtwcmV2SWR4XSA6ICcnO1xuICAgICAgY29uc3QgY3VyclZhbCA9IGN1cnJlbnRbc2VjdGlvbktleV1baV07XG4gICAgICBjb25zdCBkaWZmID0gY29tcHV0ZURpZmZlcmVuY2UoYCR7c2VjdGlvbktleX1bJHtpfV1gLCBjdXJyVmFsLCBwcmV2VmFsKTtcbiAgICAgIGN1cnJlbnQuX19kaWZmc1tzZWN0aW9uS2V5XVtpXSA9IGRpZmY7XG4gICAgfVxuICB9XG5cbiAgLy8gVG90YWxzXG4gIGNvbnN0IHRvdGFsRGlmZnMgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBjdXJyZW50LnRvdGFsS2V5cy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGsgPSBjdXJyZW50LnRvdGFsS2V5c1tpXTtcbiAgICB0b3RhbERpZmZzLnB1c2goY29tcHV0ZURpZmZlcmVuY2UoYFRvdGFsWyR7aX1dYCwgY3VycmVudFtrXSwgcHJldmlvdXNba10pKTtcbiAgfVxuICBjdXJyZW50Ll9fZGlmZl90b3RhbHMgPSB0b3RhbERpZmZzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY29tcHV0ZURpZmZlcmVuY2VzKGN1cnJlbnQsIHByZXZpb3VzKSB7XG4gIGRlYnVnTG9nKCdsb2dzJywgJ2NvbXB1dGVEaWZmZXJlbmNlcygpJyk7XG4gIGlmICghY3VycmVudCB8fCAhcHJldmlvdXMpIHJldHVybjtcblxuICBbJ2V2bScsICdzb2wnLCAndGV6J10uZm9yRWFjaChjaGFpbiA9PiB7XG4gICAgaWYgKGN1cnJlbnRbY2hhaW5dICYmIHByZXZpb3VzW2NoYWluXSkge1xuICAgICAgY29tcHV0ZUNoYWluRGlmZnMoY3VycmVudFtjaGFpbl0sIHByZXZpb3VzW2NoYWluXSk7XG4gICAgfVxuICB9KTtcbn1cbiJdLCJuYW1lcyI6WyJmcyIsInBhdGgiLCJjcnlwdG8iLCJkZWJ1Z0xvZyIsImxvZ0Vycm9yIiwiTU9EVUxFIiwiTE9HX0RJUiIsInJlc29sdmUiLCJwcm9jZXNzIiwiY3dkIiwiZGVlcFNvcnRPYmplY3QiLCJvYmoiLCJBcnJheSIsImlzQXJyYXkiLCJtYXAiLCJPYmplY3QiLCJrZXlzIiwic29ydCIsInJlZHVjZSIsImFjYyIsImtleSIsImdldFNpZ25hdHVyZSIsImVtYWlsIiwidmF1bHQiLCJ3YWxsZXRzIiwic2lnIiwicmVwbGFjZSIsImFkZHJlc3NlcyIsInB1c2giLCJjbGVhbmVkIiwiYSIsInNlZ21lbnRMZW4iLCJsZW5ndGgiLCJhZGRyIiwic2xpY2UiLCJnZXRJU09UaW1lU3RhbXAiLCJub3ciLCJEYXRlIiwibXMiLCJnZXRNaWxsaXNlY29uZHMiLCJ0b0lTT1N0cmluZyIsIlN0cmluZyIsInBhZFN0YXJ0IiwibG9nRmlsZU5hbWUiLCJzaWduYXR1cmUiLCJ0aW1lc3RhbXAiLCJmaW5kTGF0ZXN0TG9nIiwiZmlsZXMiLCJyZWFkZGlyIiwibWF0Y2hlZCIsImZpbHRlciIsImYiLCJzdGFydHNXaXRoIiwiZW5kc1dpdGgiLCJyZXZlcnNlIiwiZnVsbFBhdGgiLCJqb2luIiwiY29udGVudCIsInJlYWRGaWxlIiwiSlNPTiIsInBhcnNlIiwiZXJyIiwibWVzc2FnZSIsIndyaXRlQ3VycmVudExvZyIsImN1cnJlbnREYXRhIiwicHJldmlvdXNEYXRhIiwic29ydGVkQ3VycmVudCIsIm5ld0pzb24iLCJzdHJpbmdpZnkiLCJzb3J0ZWRQcmV2aW91cyIsIm9sZEpzb24iLCJmaWxlTmFtZSIsIndyaXRlRmlsZSIsImNvbXB1dGVEaWZmZXJlbmNlIiwiY3VycmVudCIsInByZXZpb3VzIiwicGFyc2VGbG9hdCIsImIiLCJkaWZmIiwiY2xzIiwidG9GaXhlZCIsImNvbXB1dGVDaGFpbkRpZmZzIiwic2VjdGlvbktleXMiLCJ3YWxsZXRJbmRleCIsInByZXZXYWxsZXRzIiwiaSIsInRvTG93ZXJDYXNlIiwiX19kaWZmcyIsInNlY3Rpb25LZXkiLCJ3YWxsZXQiLCJwcmV2SWR4IiwicHJldlZhbCIsInVuZGVmaW5lZCIsImN1cnJWYWwiLCJ0b3RhbERpZmZzIiwidG90YWxLZXlzIiwiayIsIl9fZGlmZl90b3RhbHMiLCJjb21wdXRlRGlmZmVyZW5jZXMiLCJmb3JFYWNoIiwiY2hhaW4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/logs.js\n");

/***/ }),

/***/ "(rsc)/./lib/scriptRunner.js":
/*!*****************************!*\
  !*** ./lib/scriptRunner.js ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   runNodeScript: () => (/* binding */ runNodeScript)\n/* harmony export */ });\n/* harmony import */ var child_process__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! child_process */ \"child_process\");\n/* harmony import */ var child_process__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(child_process__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _logger__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./logger */ \"(rsc)/./lib/logger.js\");\n/**\n * Author: Dr. Martín Raskovsky\n * Date: April 2025\n *\n * scriptRunner.js\n *\n * Utility function to run command-line Node.js scripts from /bin.\n * Abstracts script invocation and output parsing for use in API routes.\n *\n * Used by:\n * - /api/getSections/route.js → for top-level balance sections\n * - /api/details/route.js → for per-token modal details\n */ \n\n\n/**\n * Executes a Node.js script from the ../bin/ directory and optionally parses output.\n * @param {string} scriptName e.g. 'getSections.js'\n * @param {string[]} args Command-line arguments\n * @param {boolean} parseAsJSON Whether to parse output as JSON\n * @param {string} [moduleName='scriptRunner'] Module tag used for debugLog\n * @returns {Promise<object|string>} Parsed JSON or raw output\n */ async function runNodeScript(scriptName, args = [], parseAsJSON = true, moduleName = \"scriptRunner\") {\n    const scriptPath = path__WEBPACK_IMPORTED_MODULE_1___default().resolve(process.cwd(), \"../bin\", scriptName);\n    (0,_logger__WEBPACK_IMPORTED_MODULE_2__.debugLog)(moduleName, `▶️ ${scriptName} ${args.join(\" \")}`);\n    return new Promise((resolve, reject)=>{\n        const proc = (0,child_process__WEBPACK_IMPORTED_MODULE_0__.spawn)(\"node\", [\n            scriptPath,\n            ...args\n        ], {\n            cwd: path__WEBPACK_IMPORTED_MODULE_1___default().dirname(scriptPath)\n        });\n        let stdout = \"\";\n        let stderr = \"\";\n        proc.stdout.on(\"data\", (data)=>stdout += data.toString());\n        proc.stderr.on(\"data\", (data)=>stderr += data.toString());\n        proc.on(\"close\", (code)=>{\n            if (code === 0) {\n                try {\n                    resolve(parseAsJSON ? JSON.parse(stdout) : stdout);\n                } catch (err) {\n                    reject(new Error(`Parsing error: ${err.message}`));\n                }\n            } else {\n                reject(new Error(stderr || `Script exited with code ${code}`));\n            }\n        });\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvc2NyaXB0UnVubmVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBOzs7Ozs7Ozs7Ozs7Q0FZQyxHQUVxQztBQUNkO0FBQ1k7QUFFcEM7Ozs7Ozs7Q0FPQyxHQUNNLGVBQWVHLGNBQWNDLFVBQVUsRUFBRUMsT0FBTyxFQUFFLEVBQUVDLGNBQWMsSUFBSSxFQUFFQyxhQUFhLGNBQWM7SUFDeEcsTUFBTUMsYUFBYVAsbURBQVksQ0FBQ1MsUUFBUUMsR0FBRyxJQUFJLFVBQVVQO0lBQ3pERixpREFBUUEsQ0FBQ0ssWUFBWSxDQUFDLEdBQUcsRUFBRUgsV0FBVyxDQUFDLEVBQUVDLEtBQUtPLElBQUksQ0FBQyxLQUFLLENBQUM7SUFFekQsT0FBTyxJQUFJQyxRQUFRLENBQUNKLFNBQVNLO1FBQzNCLE1BQU1DLE9BQU9mLG9EQUFLQSxDQUFDLFFBQVE7WUFBQ1E7ZUFBZUg7U0FBSyxFQUFFO1lBQ2hETSxLQUFLVixtREFBWSxDQUFDTztRQUNwQjtRQUVBLElBQUlTLFNBQVM7UUFDYixJQUFJQyxTQUFTO1FBRWJILEtBQUtFLE1BQU0sQ0FBQ0UsRUFBRSxDQUFDLFFBQVFDLENBQUFBLE9BQVNILFVBQVVHLEtBQUtDLFFBQVE7UUFDdkROLEtBQUtHLE1BQU0sQ0FBQ0MsRUFBRSxDQUFDLFFBQVFDLENBQUFBLE9BQVNGLFVBQVVFLEtBQUtDLFFBQVE7UUFFdkROLEtBQUtJLEVBQUUsQ0FBQyxTQUFTRyxDQUFBQTtZQUNmLElBQUlBLFNBQVMsR0FBRztnQkFDZCxJQUFJO29CQUNGYixRQUFRSCxjQUFjaUIsS0FBS0MsS0FBSyxDQUFDUCxVQUFVQTtnQkFDN0MsRUFBRSxPQUFPUSxLQUFLO29CQUNaWCxPQUFPLElBQUlZLE1BQU0sQ0FBQyxlQUFlLEVBQUVELElBQUlFLE9BQU8sQ0FBQyxDQUFDO2dCQUNsRDtZQUNGLE9BQU87Z0JBQ0xiLE9BQU8sSUFBSVksTUFBTVIsVUFBVSxDQUFDLHdCQUF3QixFQUFFSSxLQUFLLENBQUM7WUFDOUQ7UUFDRjtJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92YXdhLW5leHQvLi9saWIvc2NyaXB0UnVubmVyLmpzP2E2OGQiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBBdXRob3I6IERyLiBNYXJ0w61uIFJhc2tvdnNreVxuICogRGF0ZTogQXByaWwgMjAyNVxuICpcbiAqIHNjcmlwdFJ1bm5lci5qc1xuICpcbiAqIFV0aWxpdHkgZnVuY3Rpb24gdG8gcnVuIGNvbW1hbmQtbGluZSBOb2RlLmpzIHNjcmlwdHMgZnJvbSAvYmluLlxuICogQWJzdHJhY3RzIHNjcmlwdCBpbnZvY2F0aW9uIGFuZCBvdXRwdXQgcGFyc2luZyBmb3IgdXNlIGluIEFQSSByb3V0ZXMuXG4gKlxuICogVXNlZCBieTpcbiAqIC0gL2FwaS9nZXRTZWN0aW9ucy9yb3V0ZS5qcyDihpIgZm9yIHRvcC1sZXZlbCBiYWxhbmNlIHNlY3Rpb25zXG4gKiAtIC9hcGkvZGV0YWlscy9yb3V0ZS5qcyDihpIgZm9yIHBlci10b2tlbiBtb2RhbCBkZXRhaWxzXG4gKi9cblxuaW1wb3J0IHsgc3Bhd24gfSBmcm9tICdjaGlsZF9wcm9jZXNzJztcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xuaW1wb3J0IHsgZGVidWdMb2cgfSBmcm9tICcuL2xvZ2dlcic7XG5cbi8qKlxuICogRXhlY3V0ZXMgYSBOb2RlLmpzIHNjcmlwdCBmcm9tIHRoZSAuLi9iaW4vIGRpcmVjdG9yeSBhbmQgb3B0aW9uYWxseSBwYXJzZXMgb3V0cHV0LlxuICogQHBhcmFtIHtzdHJpbmd9IHNjcmlwdE5hbWUgZS5nLiAnZ2V0U2VjdGlvbnMuanMnXG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBhcmdzIENvbW1hbmQtbGluZSBhcmd1bWVudHNcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gcGFyc2VBc0pTT04gV2hldGhlciB0byBwYXJzZSBvdXRwdXQgYXMgSlNPTlxuICogQHBhcmFtIHtzdHJpbmd9IFttb2R1bGVOYW1lPSdzY3JpcHRSdW5uZXInXSBNb2R1bGUgdGFnIHVzZWQgZm9yIGRlYnVnTG9nXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxvYmplY3R8c3RyaW5nPn0gUGFyc2VkIEpTT04gb3IgcmF3IG91dHB1dFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcnVuTm9kZVNjcmlwdChzY3JpcHROYW1lLCBhcmdzID0gW10sIHBhcnNlQXNKU09OID0gdHJ1ZSwgbW9kdWxlTmFtZSA9ICdzY3JpcHRSdW5uZXInKSB7XG4gIGNvbnN0IHNjcmlwdFBhdGggPSBwYXRoLnJlc29sdmUocHJvY2Vzcy5jd2QoKSwgJy4uL2JpbicsIHNjcmlwdE5hbWUpO1xuICBkZWJ1Z0xvZyhtb2R1bGVOYW1lLCBg4pa277iPICR7c2NyaXB0TmFtZX0gJHthcmdzLmpvaW4oJyAnKX1gKTtcblxuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGNvbnN0IHByb2MgPSBzcGF3bignbm9kZScsIFtzY3JpcHRQYXRoLCAuLi5hcmdzXSwge1xuICAgICAgY3dkOiBwYXRoLmRpcm5hbWUoc2NyaXB0UGF0aCksXG4gICAgfSk7XG5cbiAgICBsZXQgc3Rkb3V0ID0gJyc7XG4gICAgbGV0IHN0ZGVyciA9ICcnO1xuXG4gICAgcHJvYy5zdGRvdXQub24oJ2RhdGEnLCBkYXRhID0+IChzdGRvdXQgKz0gZGF0YS50b1N0cmluZygpKSk7XG4gICAgcHJvYy5zdGRlcnIub24oJ2RhdGEnLCBkYXRhID0+IChzdGRlcnIgKz0gZGF0YS50b1N0cmluZygpKSk7XG5cbiAgICBwcm9jLm9uKCdjbG9zZScsIGNvZGUgPT4ge1xuICAgICAgaWYgKGNvZGUgPT09IDApIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXNvbHZlKHBhcnNlQXNKU09OID8gSlNPTi5wYXJzZShzdGRvdXQpIDogc3Rkb3V0KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihgUGFyc2luZyBlcnJvcjogJHtlcnIubWVzc2FnZX1gKSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlamVjdChuZXcgRXJyb3Ioc3RkZXJyIHx8IGBTY3JpcHQgZXhpdGVkIHdpdGggY29kZSAke2NvZGV9YCkpO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcbn1cblxuXG4iXSwibmFtZXMiOlsic3Bhd24iLCJwYXRoIiwiZGVidWdMb2ciLCJydW5Ob2RlU2NyaXB0Iiwic2NyaXB0TmFtZSIsImFyZ3MiLCJwYXJzZUFzSlNPTiIsIm1vZHVsZU5hbWUiLCJzY3JpcHRQYXRoIiwicmVzb2x2ZSIsInByb2Nlc3MiLCJjd2QiLCJqb2luIiwiUHJvbWlzZSIsInJlamVjdCIsInByb2MiLCJkaXJuYW1lIiwic3Rkb3V0Iiwic3RkZXJyIiwib24iLCJkYXRhIiwidG9TdHJpbmciLCJjb2RlIiwiSlNPTiIsInBhcnNlIiwiZXJyIiwiRXJyb3IiLCJtZXNzYWdlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/scriptRunner.js\n");

/***/ }),

/***/ "(rsc)/./lib/sessionUtils.js":
/*!*****************************!*\
  !*** ./lib/sessionUtils.js ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getSessionId: () => (/* binding */ getSessionId)\n/* harmony export */ });\n/* harmony import */ var next_headers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/headers */ \"(rsc)/./node_modules/next/dist/api/headers.js\");\n/**\n * Author: Dr. Martín Raskovsky\n * Date: April 2025\n *\n * sessionUtils.js\n *\n * Provides helper functions for working with user sessions.\n * - Retrieves the session ID from cookies\n * - Ensures consistency across all server-side route handlers\n *\n * Used by:\n * - loginServer.js\n * - API route modules needing user lookup\n */ \n/**\n * Retrieves the session ID from cookies.\n * Returns null if not found.\n */ function getSessionId() {\n    return (0,next_headers__WEBPACK_IMPORTED_MODULE_0__.cookies)().get(\"vawa_session\")?.value || null;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvc2Vzc2lvblV0aWxzLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7Ozs7Ozs7Ozs7Ozs7Q0FhQyxHQUVzQztBQUV2Qzs7O0NBR0MsR0FDTSxTQUFTQztJQUNkLE9BQU9ELHFEQUFPQSxHQUFHRSxHQUFHLENBQUMsaUJBQWlCQyxTQUFTO0FBQ2pEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmF3YS1uZXh0Ly4vbGliL3Nlc3Npb25VdGlscy5qcz9kZTVhIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQXV0aG9yOiBEci4gTWFydMOtbiBSYXNrb3Zza3lcbiAqIERhdGU6IEFwcmlsIDIwMjVcbiAqXG4gKiBzZXNzaW9uVXRpbHMuanNcbiAqXG4gKiBQcm92aWRlcyBoZWxwZXIgZnVuY3Rpb25zIGZvciB3b3JraW5nIHdpdGggdXNlciBzZXNzaW9ucy5cbiAqIC0gUmV0cmlldmVzIHRoZSBzZXNzaW9uIElEIGZyb20gY29va2llc1xuICogLSBFbnN1cmVzIGNvbnNpc3RlbmN5IGFjcm9zcyBhbGwgc2VydmVyLXNpZGUgcm91dGUgaGFuZGxlcnNcbiAqXG4gKiBVc2VkIGJ5OlxuICogLSBsb2dpblNlcnZlci5qc1xuICogLSBBUEkgcm91dGUgbW9kdWxlcyBuZWVkaW5nIHVzZXIgbG9va3VwXG4gKi9cblxuaW1wb3J0IHsgY29va2llcyB9IGZyb20gJ25leHQvaGVhZGVycyc7XG5cbi8qKlxuICogUmV0cmlldmVzIHRoZSBzZXNzaW9uIElEIGZyb20gY29va2llcy5cbiAqIFJldHVybnMgbnVsbCBpZiBub3QgZm91bmQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRTZXNzaW9uSWQoKSB7XG4gIHJldHVybiBjb29raWVzKCkuZ2V0KCd2YXdhX3Nlc3Npb24nKT8udmFsdWUgfHwgbnVsbDtcbn1cbiJdLCJuYW1lcyI6WyJjb29raWVzIiwiZ2V0U2Vzc2lvbklkIiwiZ2V0IiwidmFsdWUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/sessionUtils.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/mysql2","vendor-chunks/aws-ssl-profiles","vendor-chunks/long","vendor-chunks/lru-cache","vendor-chunks/denque","vendor-chunks/is-property","vendor-chunks/lru.min","vendor-chunks/sqlstring","vendor-chunks/seq-queue","vendor-chunks/named-placeholders","vendor-chunks/generate-function","vendor-chunks/safer-buffer"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2FgetSections%2Froute&page=%2Fapi%2FgetSections%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2FgetSections%2Froute.js&appDir=%2FUsers%2Fmartin%2Fweb3%2Fsrc%2Fnext%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fmartin%2Fweb3%2Fsrc%2Fnext&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();